# LIMS å®éªŒå®¤ä¿¡æ¯ç®¡ç†ç³»ç»Ÿ - äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)

> **ç‰ˆæœ¬**: 2.5
> **æœ€åæ›´æ–°**: 2026-02-01
> **æœ¬æ¬¡æ›´æ–°**: å’¨è¯¢è¯„ä¼°ç³»ç»Ÿä¼˜åŒ–ï¼ˆç»Ÿä¸€åˆ° v2 ç³»ç»Ÿï¼‰ï¼Œç§»é™¤"å‘èµ·è¯„ä¼°"æŒ‰é’®ï¼Œä¿®å¤è¯„ä¼°äººå¾…åŠæŸ¥è¯¢
> **æ–‡æ¡£ç±»å‹**: è¯¦ç»†éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦
> **æŠ€æœ¯æ ˆå˜æ›´**: å·²è¿ç§»è‡³ Next.js å…¨æ ˆæ–¹æ¡ˆ
> **å®¡æ‰¹æµç³»ç»Ÿ**: ç»Ÿä¸€å¯é…ç½®å®¡æ‰¹æµç³»ç»Ÿ v1.1

---

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç®€ä»‹

LIMSï¼ˆLaboratory Information Management Systemï¼‰æ˜¯ä¸€å¥—é¢å‘æ£€æµ‹å®éªŒå®¤çš„å…¨æµç¨‹ä¿¡æ¯åŒ–ç®¡ç†ç³»ç»Ÿï¼Œè¦†ç›–ä»å®¢æˆ·å’¨è¯¢ã€æŠ¥ä»·ã€åˆåŒç­¾è®¢ã€æ ·å“æ¥æ”¶ã€ä»»åŠ¡åˆ†é…ã€æ£€æµ‹æ‰§è¡Œã€æŠ¥å‘Šç”Ÿæˆåˆ°è´¢åŠ¡ç»“ç®—çš„å®Œæ•´ä¸šåŠ¡é“¾æ¡ã€‚

### 1.2 æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰å‹ |
|------|----------|
| **æ¡†æ¶** | Next.js 15 (App Router) + TypeScript |
| **å‰ç«¯UI** | React 19 + Ant Design 6 |
| **åç«¯API** | Next.js API Routes (Route Handlers) |
| **ORM** | Prisma 6 |
| **æ•°æ®åº“** | MySQL 8.0 |
| **è®¤è¯** | NextAuth.js v5 (Auth.js) |
| **è¡¨å•éªŒè¯** | è‡ªå®šä¹‰ API Handler + Zod |
| **å®‰å…¨æ¨¡å—** | èº«ä»½è®¤è¯ + è¾“å…¥éªŒè¯ + çŠ¶æ€æœº + ä¹è§‚é” + é€Ÿç‡é™åˆ¶ |
| **æ—¥æœŸå¤„ç†** | Day.js |
| **æ–‡ä»¶å­˜å‚¨** | MinIO / é˜¿é‡Œäº‘ OSS |
| **æŠ¥å‘Šç”Ÿæˆ** | EasyExcel + LibreOffice |
| **è¡¨æ ¼ç»„ä»¶** | Fortune-sheet |
| **éƒ¨ç½²** | PM2 + Nginx |

> **æ³¨æ„**ï¼šæœ¬é¡¹ç›®å·²ä»æœ€åˆè§„åˆ’çš„ Spring Boot æ–¹æ¡ˆè¿ç§»è‡³ Next.js å…¨æ ˆæ–¹æ¡ˆï¼Œä»¥å®ç°æ›´å¿«çš„å¼€å‘è¿­ä»£å’Œæ›´ç®€æ´çš„éƒ¨ç½²æ¶æ„ã€‚æ‰€æœ‰åç»­åŠŸèƒ½å¼€å‘å‡ä½¿ç”¨æ­¤æŠ€æœ¯æ ˆã€‚

### 1.3 ç›®æ ‡ç”¨æˆ·

| è§’è‰² | æè¿° | æ ¸å¿ƒè¯‰æ±‚ |
|------|------|----------|
| ä¸šåŠ¡å‘˜/é”€å”® | è´Ÿè´£å®¢æˆ·å¯¹æ¥ã€å’¨è¯¢è·Ÿè¿›ã€æŠ¥ä»· | å¿«é€Ÿå“åº”å®¢æˆ·éœ€æ±‚ï¼Œè·Ÿè¸ªä¸šåŠ¡è¿›åº¦ |
| æ ·å“ç®¡ç†å‘˜ | è´Ÿè´£æ ·å“æ”¶å‘ã€ç™»è®°ã€æµè½¬ | ç²¾å‡†ç®¡ç†æ ·å“çŠ¶æ€ï¼Œé¿å…æ··ä¹± |
| æ£€æµ‹äººå‘˜ | æ‰§è¡Œæ£€æµ‹ä»»åŠ¡ã€å½•å…¥æ•°æ® | é«˜æ•ˆå®Œæˆä»»åŠ¡ï¼Œå‡†ç¡®è®°å½•æ•°æ® |
| å®éªŒå®¤ä¸»ç®¡ | ä»»åŠ¡åˆ†é…ã€å®¡æ ¸æŠ¥å‘Š | åˆç†åˆ†é…èµ„æºï¼ŒæŠŠæ§è´¨é‡ |
| è´¢åŠ¡äººå‘˜ | æ”¶æ¬¾ã€å¼€ç¥¨ç®¡ç† | å‡†ç¡®å¯¹è´¦ï¼ŒåŠæ—¶å›æ¬¾ |
| ç³»ç»Ÿç®¡ç†å‘˜ | ç”¨æˆ·æƒé™ã€ç³»ç»Ÿé…ç½® | ä¿éšœç³»ç»Ÿå®‰å…¨ç¨³å®šè¿è¡Œ |

---

## äºŒã€ä¸šåŠ¡æµç¨‹

### 2.1 æ ¸å¿ƒä¸šåŠ¡æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              LIMS æ ¸å¿ƒä¸šåŠ¡æµç¨‹                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ å§”æ‰˜å’¨è¯¢ â”‚â”€â”€â”€â–¶â”‚ æŠ¥ä»·ç®¡ç† â”‚â”€â”€â”€â–¶â”‚ åˆåŒç­¾è®¢ â”‚â”€â”€â”€â–¶â”‚ å§”æ‰˜å•   â”‚                  â”‚
â”‚  â”‚ (è·Ÿè¿›ä¸­) â”‚    â”‚ (ä¸‰çº§å®¡æ‰¹)â”‚    â”‚ (æ‰§è¡Œä¸­) â”‚    â”‚ (ç”Ÿæˆ)   â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚       â”‚                                               â”‚                         â”‚
â”‚       â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚       â”‚              â–¼                                                          â”‚
â”‚       â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚       â”‚         â”‚ æ ·å“æ”¶æ · â”‚â”€â”€â”€â–¶â”‚ ä»»åŠ¡åˆ†é… â”‚â”€â”€â”€â–¶â”‚ æ£€æµ‹æ‰§è¡Œ â”‚                   â”‚
â”‚       â”‚         â”‚ (ç™»è®°)   â”‚    â”‚ (å†…éƒ¨/å¤–åŒ…)â”‚   â”‚ (æ•°æ®å½•å…¥)â”‚                   â”‚
â”‚       â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚       â”‚                                               â”‚                         â”‚
â”‚       â”‚                                               â–¼                         â”‚
â”‚       â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚       â”‚         â”‚ è´¢åŠ¡ç»“ç®— â”‚â—€â”€â”€â”€â”‚ æŠ¥å‘Šå‘å¸ƒ â”‚â—€â”€â”€â”€â”‚ æŠ¥å‘Šå®¡æ‰¹ â”‚                   â”‚
â”‚       â”‚         â”‚ (æ”¶æ¬¾å¼€ç¥¨)â”‚    â”‚ (äº¤ä»˜)   â”‚    â”‚ (ä¸‰çº§)   â”‚                   â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â–¶â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 çŠ¶æ€æµè½¬è¯´æ˜

#### 2.2.1 å§”æ‰˜å’¨è¯¢çŠ¶æ€æµè½¬

```
[following - è·Ÿè¿›ä¸­] â† æ–°å»ºå’¨è¯¢é»˜è®¤çŠ¶æ€
      â”‚ ç”ŸæˆæŠ¥ä»·å•
      â–¼
[quoted - å·²æŠ¥ä»·]
      â”‚
      â”œâ”€â”€â”€ æŠ¥ä»·è¢«å®¢æˆ·æ¥å— â†’ [åˆåŒæµç¨‹]
      â”œâ”€â”€â”€ æŠ¥ä»·è¢«å®¢æˆ·æ‹’ç» â†’ [rejected - å·²æ‹’ç»]
      â”‚
[closed - å·²å…³é—­] â† æ‰‹åŠ¨å…³é—­ï¼ˆä»»æ„æ—¶é—´ï¼‰
```

#### 2.2.2 æŠ¥ä»·å•å®¡æ‰¹æµç¨‹

```
[draft - è‰ç¨¿]
      â”‚ æäº¤å®¡æ‰¹
      â–¼
[pending_sales - å¾…é”€å”®å®¡æ‰¹] â†’ é”€å”®ç»ç†å®¡æ‰¹
      â”‚ é€šè¿‡
      â–¼
[pending_finance - å¾…è´¢åŠ¡å®¡æ‰¹] â†’ è´¢åŠ¡å®¡æ‰¹
      â”‚ é€šè¿‡
      â–¼
[pending_lab - å¾…å®éªŒå®¤å®¡æ‰¹] â†’ å®éªŒå®¤è´Ÿè´£äººå®¡æ‰¹
      â”‚ é€šè¿‡
      â–¼
[approved - å·²æ‰¹å‡†] â†’ ç­‰å¾…å®¢æˆ·åé¦ˆ
      â”‚
      â”œâ”€â”€â”€ å®¢æˆ·æ¥å—(OK) â†’ ç”ŸæˆåˆåŒ
      â””â”€â”€â”€ å®¢æˆ·æ‹’ç»(NG) â†’ å½’æ¡£
```

#### 2.2.3 åˆåŒçŠ¶æ€æµè½¬

```
[draft - è‰ç¨¿] â†’ [signed - å·²ç­¾è®¢] â†’ [executing - æ‰§è¡Œä¸­] â†’ [completed - å·²å®Œæˆ]
                                                        â†˜
                                                    [terminated - å·²ç»ˆæ­¢]
```

#### 2.2.4 æ ·å“çŠ¶æ€æµè½¬

```
[å¾…æ”¶æ ·] â†’ [å·²æ”¶æ ·] â†’ [å·²åˆ†é…] â†’ [æ£€æµ‹ä¸­] â†’ [å·²å®Œæˆ]
                 â†˜                      â†˜
              [å·²å¤–åŒ…]              [å·²å½’è¿˜/å·²é”€æ¯]
```

#### 2.2.5 ä»»åŠ¡çŠ¶æ€æµè½¬

```
[pending - å¾…å¼€å§‹] â†’ [in_progress - è¿›è¡Œä¸­] â†’ [pending_review - å¾…å®¡æ ¸] â†’ [completed - å·²å®Œæˆ]
                              â†˜                        â†™
                           [transferred - å·²è½¬äº¤]
```

**çŠ¶æ€è¯´æ˜**ï¼š
| çŠ¶æ€ | è¯´æ˜ | å¯æ‰§è¡Œæ“ä½œ |
|------|------|-----------|
| pending | ä»»åŠ¡å·²åˆ›å»ºï¼Œç­‰å¾…æ£€æµ‹äººå‘˜å¼€å§‹ | å¼€å§‹ã€è½¬äº¤ |
| in_progress | æ£€æµ‹äººå‘˜æ­£åœ¨å½•å…¥æ•°æ® | å½•å…¥æ•°æ®ã€è½¬äº¤ |
| pending_review | æ•°æ®å·²æäº¤ï¼Œç­‰å¾…ä¸»ç®¡å®¡æ ¸ | æŸ¥çœ‹æ•°æ® |
| completed | å®¡æ ¸é€šè¿‡ï¼Œä»»åŠ¡å®Œæˆ | æŸ¥çœ‹æ•°æ® |
| transferred | ä»»åŠ¡å·²è½¬äº¤ç»™å…¶ä»–äººå‘˜ | - |

#### 2.2.6 æŠ¥å‘Šå®¡æ‰¹æµç¨‹

```
[è‰ç¨¿] â†’ [å¾…å®¡æ ¸] â†’ [å·²å®¡æ ¸] â†’ [å·²æ‰¹å‡†] â†’ [å·²å‘å¸ƒ]
```

---
## ä¸‰ã€åŠŸèƒ½æ¸…å•

### çŠ¶æ€è¯´æ˜
- ğŸ”´ å¾…å¼€å‘ | ğŸŸ¡ å¼€å‘ä¸­ | ğŸŸ¢ å·²å®Œæˆ | âš« å·²åºŸå¼ƒ

### åŠŸèƒ½æ€»è§ˆ

| ID | æ¨¡å— | åŠŸèƒ½ | çŠ¶æ€ | ä¼˜å…ˆçº§ | å¯¹åº”ä»£ç  |
|----|------|------|------|--------|----------|
| F001 | ç”¨æˆ·ç®¡ç† | ç”¨æˆ·ç™»å½• | ğŸŸ¢ | P0 | `src/app/api/auth/[...nextauth]/route.ts` |
| F002 | å§”æ‰˜ç®¡ç† | å§”æ‰˜å’¨è¯¢ | ğŸŸ¢ | P0 | `src/app/(dashboard)/entrustment/consultation/page.tsx` |
| F003 | å§”æ‰˜ç®¡ç† | æŠ¥ä»·ç®¡ç† | ğŸŸ¢ | P0 | `src/app/(dashboard)/entrustment/quotation/page.tsx` |
| F004 | å§”æ‰˜ç®¡ç† | åˆåŒç®¡ç† | ğŸŸ¢ | P0 | `src/app/(dashboard)/entrustment/contract/page.tsx` |
| F005 | å§”æ‰˜ç®¡ç† | å§”æ‰˜å•ç®¡ç† | ğŸŸ¢ | P0 | `src/app/(dashboard)/entrustment/list/page.tsx` |
| F006 | å§”æ‰˜ç®¡ç† | å®¢æˆ·ç®¡ç† | ğŸŸ¢ | P0 | `src/app/(dashboard)/entrustment/client/page.tsx` |
| F007 | æ ·å“ç®¡ç† | æ ·å“ç™»è®° | ğŸŸ¢ | P0 | `src/app/(dashboard)/sample/receipt/page.tsx` |
| F008 | æ ·å“ç®¡ç† | æ ·å“æµè½¬ | ğŸŸ¢ | P0 | `src/app/(dashboard)/sample/list/page.tsx` |
| F009 | ä»»åŠ¡ç®¡ç† | ä»»åŠ¡åˆ†é… | ğŸŸ¢ | P0 | `src/app/(dashboard)/task/all/page.tsx` |
| F010 | ä»»åŠ¡ç®¡ç† | æ•°æ®å½•å…¥ | ğŸŸ¢ | P0 | `src/app/(dashboard)/task/data/[id]/page.tsx` |
| F011 | æŠ¥å‘Šç®¡ç† | æŠ¥å‘Šç”Ÿæˆ | ğŸŸ¢ | P0 | `src/app/(dashboard)/report/generate/page.tsx` |
| F012 | æŠ¥å‘Šç®¡ç† | æŠ¥å‘Šå®¡æ‰¹ | ğŸŸ¢ | P0 | `src/app/(dashboard)/report/approval/page.tsx` |
| F013 | è´¢åŠ¡ç®¡ç† | åº”æ”¶æ¬¾ç®¡ç† | ğŸŸ¢ | P1 | `src/app/(dashboard)/finance/receivable/page.tsx` |
| F014 | è´¢åŠ¡ç®¡ç† | å¼€ç¥¨ç®¡ç† | ğŸŸ¢ | P1 | `src/app/(dashboard)/finance/invoice/page.tsx` |
| F015 | ç³»ç»Ÿç®¡ç† | ç”¨æˆ·ç®¡ç† | ğŸŸ¢ | P0 | `src/app/(dashboard)/system/user/page.tsx` |
| F016 | ç³»ç»Ÿç®¡ç† | è§’è‰²ç®¡ç† | ğŸŸ¢ | P0 | `src/app/(dashboard)/system/role/page.tsx` |
| F017 | ç³»ç»Ÿç®¡ç† | å®¡æ‰¹æµç¨‹é…ç½® | ğŸŸ¢ | P0 | `src/app/(dashboard)/system/approval-flow/page.tsx` |
| F018 | è®¾å¤‡ç®¡ç† | è®¾å¤‡æ¡£æ¡ˆ | ğŸŸ¢ | P1 | `src/app/(dashboard)/device/page.tsx` |
| F019 | å¤–åç®¡ç† | å¤–åè®¢å• | ğŸŸ¢ | P1 | `src/app/(dashboard)/outsource/order/page.tsx` |

### åŠŸèƒ½ç»Ÿè®¡

| æ¨¡å— | åŠŸèƒ½æ•° | çŠ¶æ€ |
|------|--------|------|
| ç”¨æˆ·ç®¡ç† | 1 | ğŸŸ¢ |
| å§”æ‰˜ç®¡ç† | 5 | ğŸŸ¢ |
| æ ·å“ç®¡ç† | 2 | ğŸŸ¢ |
| ä»»åŠ¡ç®¡ç† | 2 | ğŸŸ¢ |
| æŠ¥å‘Šç®¡ç† | 2 | ğŸŸ¢ |
| è´¢åŠ¡ç®¡ç† | 2 | ğŸŸ¢ |
| ç³»ç»Ÿç®¡ç† | 3 | ğŸŸ¢ |
| è®¾å¤‡ç®¡ç† | 1 | ğŸŸ¢ |
| å¤–åç®¡ç† | 1 | ğŸŸ¢ |
| **æ€»è®¡** | **19** | **ğŸŸ¢ å…¨éƒ¨å®Œæˆ** |

---


## ä¸‰ã€åŠŸèƒ½æ¨¡å—è¯¦ç»†è¯´æ˜

### 3.1 å§”æ‰˜ç®¡ç†æ¨¡å—

#### 3.1.1 å§”æ‰˜å’¨è¯¢ (EntrustmentConsultation)

**åŠŸèƒ½æè¿°**ï¼šè®°å½•å®¢æˆ·æ£€æµ‹å’¨è¯¢ä¿¡æ¯ï¼Œè·Ÿè¸ªå’¨è¯¢è¿›åº¦ï¼Œè½¬åŒ–ä¸ºæŠ¥ä»·å•ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/entrustment/consultation`

**è¡¨å•å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|----------|------|------|------|
| å’¨è¯¢å•å· | consultationNo | string | æ˜¯ | è‡ªåŠ¨ç”Ÿæˆï¼Œæ ¼å¼ï¼šZX+å¹´æœˆæ—¥+åºå· |
| å®¢æˆ·å…¬å¸ | clientCompany | string | æ˜¯ | å®¢æˆ·å•ä½åç§° |
| è”ç³»äºº | clientContact | string | æ˜¯ | å®¢æˆ·è”ç³»äººå§“å |
| è”ç³»ç”µè¯ | clientTel | string | æ˜¯ | è”ç³»ç”µè¯ |
| é‚®ç®± | clientEmail | string | å¦ | ç”µå­é‚®ç®± |
| åœ°å€ | clientAddress | string | å¦ | å®¢æˆ·åœ°å€ |
| æ ·å“åç§° | sampleName | string | æ˜¯ | æ ·å“åç§° |
| æ ·å“å‹å· | sampleModel | string | å¦ | å‹å·è§„æ ¼ |
| æ ·å“æè´¨ | sampleMaterial | string | å¦ | æè´¨ä¿¡æ¯ |
| é¢„è®¡æ•°é‡ | estimatedQuantity | number | å¦ | é¢„ä¼°æ ·å“æ•°é‡ |
| æ£€æµ‹é¡¹ç›® | testItems | string[] | æ˜¯ | æ£€æµ‹é¡¹ç›®åˆ—è¡¨ï¼ˆå¤šé€‰ï¼‰ |
| æ£€æµ‹ç›®çš„ | testPurpose | enum | æ˜¯ | quality_inspection/product_certification/rd_testing/other |
| æœŸæœ›å®Œæˆæ—¶é—´ | expectedDeadline | date | å¦ | æœŸæœ›æŠ¥å‘Šäº¤ä»˜æ—¥æœŸ |
| å®¢æˆ·è¦æ±‚ | clientRequirements | text | å¦ | ç‰¹æ®Šè¦æ±‚è¯´æ˜ |
| é¢„ç®—èŒƒå›´ | budgetRange | string | å¦ | å¦‚"5000-10000" |
| çŠ¶æ€ | status | enum | æ˜¯ | following/quoted/rejected/closed |
| è·Ÿè¿›äºº | follower | string | æ˜¯ | è´Ÿè´£è·Ÿè¿›çš„ä¸šåŠ¡å‘˜ |
| å¯è¡Œæ€§è¯„ä¼° | feasibility | enum | å¦ | feasible/difficult/infeasible |
| å¯è¡Œæ€§è¯´æ˜ | feasibilityNote | text | å¦ | è¯„ä¼°è¯´æ˜ |
| é¢„ä¼°ä»·æ ¼ | estimatedPrice | number | å¦ | åˆæ­¥ä¼°ä»· |

**è·Ÿè¿›è®°å½•å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| è·Ÿè¿›æ—¥æœŸ | date | datetime | è·Ÿè¿›æ—¶é—´ |
| è·Ÿè¿›æ–¹å¼ | type | enum | phone/email/visit/other |
| è·Ÿè¿›å†…å®¹ | content | text | è¯¦ç»†å†…å®¹ |
| ä¸‹ä¸€æ­¥è¡ŒåŠ¨ | nextAction | text | è®¡åˆ’è¡ŒåŠ¨ |
| æ“ä½œäºº | operator | string | è·Ÿè¿›äºº |

**æŒ‰é’®é€»è¾‘**ï¼š

| æŒ‰é’® | è§¦å‘æ¡ä»¶ | æ“ä½œé€»è¾‘ |
|------|----------|----------|
| æ–°å»ºå’¨è¯¢ | ä»»æ„æ—¶åˆ» | æ‰“å¼€æ–°å»ºè¡¨å•ï¼ŒçŠ¶æ€é»˜è®¤"è·Ÿè¿›ä¸­" |
| ç¼–è¾‘ | status = "following" | æ‰“å¼€ç¼–è¾‘è¡¨å• |
| æŸ¥çœ‹ | ä»»æ„çŠ¶æ€ | æ‰“å¼€è¯¦æƒ…æŠ½å±‰ |
| åˆ é™¤ | status = "following" ä¸”æœ‰åˆ é™¤æƒé™ | ç¡®è®¤ååˆ é™¤ |
| å…³é—­å’¨è¯¢ | status = "following" | çŠ¶æ€æ”¹ä¸º"å·²å…³é—­" |
| ç”ŸæˆæŠ¥ä»·å• | status = "following" ä¸”æ— å…³è”æŠ¥ä»·å• | è·³è½¬æŠ¥ä»·å•é¡µé¢ï¼Œæºå¸¦å’¨è¯¢ä¿¡æ¯ |
| æ·»åŠ è·Ÿè¿› | status = "following" | åœ¨è¯¦æƒ…æŠ½å±‰ä¸­æ·»åŠ è·Ÿè¿›è®°å½• |

**ç­›é€‰æ¡ä»¶**ï¼š
- å…³é”®è¯æœç´¢ï¼šå’¨è¯¢å•å·ã€å®¢æˆ·åç§°ã€è”ç³»äºº
- çŠ¶æ€ç­›é€‰ï¼šå…¨éƒ¨/è·Ÿè¿›ä¸­/å·²æŠ¥ä»·/å·²æ‹’ç»/å·²å…³é—­
- è·Ÿè¿›äººç­›é€‰
- æ—¥æœŸèŒƒå›´ç­›é€‰

---

#### 4.1.2 æŠ¥ä»·ç®¡ç† (QuotationManagement)

**åŠŸèƒ½æè¿°**ï¼šåˆ›å»ºå’Œç®¡ç†æŠ¥ä»·å•ï¼Œæ”¯æŒä¸‰çº§å®¡æ‰¹æµç¨‹ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/entrustment/quotation`

**è¡¨å•å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|----------|------|------|------|
| æŠ¥ä»·å•å· | quotationNo | string | æ˜¯ | è‡ªåŠ¨ç”Ÿæˆï¼Œæ ¼å¼ï¼šBJ+å¹´æœˆæ—¥+åºå· |
| åˆ›å»ºæ—¶é—´ | createTime | datetime | æ˜¯ | è‡ªåŠ¨è®°å½• |
| å®¢æˆ·å…¬å¸ | clientCompany | string | æ˜¯ | å§”æ‰˜æ–¹å…¬å¸ |
| è”ç³»äºº | clientContact | string | æ˜¯ | è”ç³»äººå§“å |
| è”ç³»ç”µè¯ | clientTel | string | æ˜¯ | è”ç³»ç”µè¯ |
| é‚®ç®± | clientEmail | string | å¦ | ç”µå­é‚®ç®± |
| åœ°å€ | clientAddress | string | å¦ | å®¢æˆ·åœ°å€ |
| æœåŠ¡å…¬å¸ | serviceCompany | string | æ˜¯ | é»˜è®¤ï¼šæ±Ÿè‹å›½è½»æ£€æµ‹æŠ€æœ¯æœ‰é™å…¬å¸ |
| æœåŠ¡è”ç³»äºº | serviceContact | string | æ˜¯ | ä¸šåŠ¡å‘˜ |
| æœåŠ¡ç”µè¯ | serviceTel | string | æ˜¯ | ä¸šåŠ¡ç”µè¯ |
| æ ·å“åç§° | sampleName | string | æ˜¯ | æ ·å“åç§° |
| å®¢æˆ·å¤‡æ³¨ | clientRemark | text | å¦ | å®¢æˆ·ç‰¹æ®Šè¦æ±‚ |
| æŠ¥ä»·åˆè®¡ | subtotal | number | æ˜¯ | è‡ªåŠ¨è®¡ç®— |
| å«ç¨åˆè®¡ | taxTotal | number | æ˜¯ | subtotal Ã— 1.06 |
| ä¼˜æƒ ååˆè®¡ | discountTotal | number | æ˜¯ | æœ€ç»ˆæŠ¥ä»· |
| çŠ¶æ€ | status | enum | æ˜¯ | draft/pending_sales/pending_finance/pending_lab/approved/rejected/archived |
| å®¢æˆ·åé¦ˆ | clientStatus | enum | æ˜¯ | pending/ok/ng |
| NGåŸå›  | ngReason | text | å¦ | å®¢æˆ·æ‹’ç»åŸå›  |
| å…³è”å’¨è¯¢å• | consultationNo | string | å¦ | æ¥æºå’¨è¯¢å•å· |
| å…³è”åˆåŒ | contractNo | string | å¦ | ç”Ÿæˆçš„åˆåŒç¼–å· |

**æŠ¥ä»·æ˜ç»†é¡¹å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| æ£€æµ‹é¡¹ç›® | serviceItem | string | æ£€æµ‹é¡¹ç›®åç§° |
| æ£€æµ‹æ ‡å‡† | methodStandard | string | ä¾æ®æ ‡å‡† |
| æ•°é‡ | quantity | number | æ ·å“æ•°é‡ |
| å•ä»· | unitPrice | number | å•ä»·ï¼ˆå…ƒï¼‰ |
| æ€»ä»· | totalPrice | number | quantity Ã— unitPrice |

**å®¡æ‰¹è®°å½•å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| å®¡æ‰¹çº§åˆ« | level | number | 1/2/3 |
| å®¡æ‰¹è§’è‰² | role | enum | sales_manager/finance/lab_director |
| å®¡æ‰¹äºº | approver | string | å®¡æ‰¹äººå§“å |
| å®¡æ‰¹åŠ¨ä½œ | action | enum | approve/reject |
| å®¡æ‰¹æ„è§ | comment | text | å®¡æ‰¹å¤‡æ³¨ |
| å®¡æ‰¹æ—¶é—´ | timestamp | datetime | æ“ä½œæ—¶é—´ |

**æŒ‰é’®é€»è¾‘**ï¼š

| æŒ‰é’® | è§¦å‘æ¡ä»¶ | æ“ä½œé€»è¾‘ |
|------|----------|----------|
| æ–°å»ºæŠ¥ä»· | ä»»æ„æ—¶åˆ» | æ‰“å¼€æ–°å»ºè¡¨å• |
| ç¼–è¾‘ | status = "draft" | æ‰“å¼€ç¼–è¾‘è¡¨å• |
| æäº¤å®¡æ‰¹ | status = "draft" | çŠ¶æ€æ”¹ä¸º"pending_sales" |
| å®¡æ‰¹é€šè¿‡ | å½“å‰ç”¨æˆ·æœ‰å¯¹åº”çº§åˆ«å®¡æ‰¹æƒé™ | è¿›å…¥ä¸‹ä¸€å®¡æ‰¹çŠ¶æ€ |
| å®¡æ‰¹é©³å› | å½“å‰ç”¨æˆ·æœ‰å¯¹åº”çº§åˆ«å®¡æ‰¹æƒé™ | çŠ¶æ€æ”¹ä¸º"rejected" |
| ç”ŸæˆåˆåŒ | status = "approved" ä¸” clientStatus = "ok" | è·³è½¬åˆåŒé¡µé¢ |
| å½’æ¡£ | status = "approved" | çŠ¶æ€æ”¹ä¸º"archived" |
| åˆ é™¤ | status = "draft" | ç¡®è®¤ååˆ é™¤ |

**ä¸‰çº§å®¡æ‰¹æµç¨‹**ï¼š

| çº§åˆ« | è§’è‰² | å®¡æ‰¹å†…å®¹ |
|------|------|----------|
| 1 | é”€å”®ç»ç† | å®¡æ ¸å®¢æˆ·ä¿¡æ¯ã€æŠ¥ä»·åˆç†æ€§ |
| 2 | è´¢åŠ¡ | å®¡æ ¸ä»·æ ¼ã€ä»˜æ¬¾æ¡æ¬¾ |
| 3 | å®éªŒå®¤è´Ÿè´£äºº | å®¡æ ¸æ£€æµ‹èƒ½åŠ›ã€å‘¨æœŸ |

---

#### 4.1.3 åˆåŒç®¡ç† (ContractManagement)

**åŠŸèƒ½æè¿°**ï¼šç®¡ç†æ£€æµ‹æœåŠ¡åˆåŒï¼Œæ”¯æŒä»æŠ¥ä»·å•ç”Ÿæˆã€‚

**é¡µé¢è·¯å¾„**ï¼š`/entrustment/contract`

**è¡¨å•å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|----------|------|------|------|
| åˆåŒç¼–å· | contractNo | string | æ˜¯ | æ ¼å¼ï¼šHT+å¹´æœˆæ—¥+åºå· |
| åˆåŒåç§° | contractName | string | æ˜¯ | åˆåŒæ ‡é¢˜ |
| å…³è”æŠ¥ä»·å• | quotationNo | string | æ˜¯ | æ¥æºæŠ¥ä»·å•å· |
| ç”²æ–¹å…¬å¸ | partyA.company | string | æ˜¯ | å®¢æˆ·å…¬å¸ |
| ç”²æ–¹è”ç³»äºº | partyA.contact | string | æ˜¯ | å®¢æˆ·è”ç³»äºº |
| ç”²æ–¹ç”µè¯ | partyA.tel | string | æ˜¯ | è”ç³»ç”µè¯ |
| ç”²æ–¹åœ°å€ | partyA.address | string | æ˜¯ | å…¬å¸åœ°å€ |
| ç”²æ–¹ç¨å· | partyA.taxId | string | å¦ | çº³ç¨äººè¯†åˆ«å· |
| ç”²æ–¹å¼€æˆ·è¡Œ | partyA.bankName | string | å¦ | é“¶è¡Œåç§° |
| ç”²æ–¹è´¦å· | partyA.bankAccount | string | å¦ | é“¶è¡Œè´¦å· |
| ä¹™æ–¹å…¬å¸ | partyB.company | string | æ˜¯ | æœåŠ¡æ–¹å…¬å¸ |
| ä¹™æ–¹è”ç³»äºº | partyB.contact | string | æ˜¯ | ä¸šåŠ¡å‘˜ |
| ä¹™æ–¹ç”µè¯ | partyB.tel | string | æ˜¯ | è”ç³»ç”µè¯ |
| ä¹™æ–¹åœ°å€ | partyB.address | string | æ˜¯ | å…¬å¸åœ°å€ |
| åˆåŒé‡‘é¢ | contractAmount | number | æ˜¯ | åˆåŒæ€»é‡‘é¢ |
| æ ·å“åç§° | sampleName | string | æ˜¯ | æ£€æµ‹æ ·å“ |
| æ˜¯å¦æœ‰é¢„ä»˜æ¬¾ | hasAdvancePayment | boolean | æ˜¯ | æ˜¯å¦éœ€è¦é¢„ä»˜æ¬¾ |
| é¢„ä»˜æ¬¾é‡‘é¢ | advancePaymentAmount | number | å¦ | é¢„ä»˜æ¬¾é‡‘é¢ |
| ç­¾è®¢æ—¥æœŸ | signDate | date | æ˜¯ | åˆåŒç­¾è®¢æ—¥æœŸ |
| ç”Ÿæ•ˆæ—¥æœŸ | effectiveDate | date | æ˜¯ | åˆåŒç”Ÿæ•ˆæ—¥æœŸ |
| åˆ°æœŸæ—¥æœŸ | expiryDate | date | æ˜¯ | åˆåŒåˆ°æœŸæ—¥æœŸ |
| çŠ¶æ€ | status | enum | æ˜¯ | draft/signed/executing/completed/terminated |

**åˆåŒæ¡æ¬¾å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| ä»˜æ¬¾æ¡æ¬¾ | terms.paymentTerms | text | ä»˜æ¬¾æ–¹å¼å’Œæ—¶é—´çº¦å®š |
| äº¤ä»˜æ¡æ¬¾ | terms.deliveryTerms | text | æŠ¥å‘Šäº¤ä»˜æ–¹å¼å’Œæ—¶é—´ |
| è´¨é‡æ¡æ¬¾ | terms.qualityTerms | text | æ£€æµ‹è´¨é‡è¦æ±‚ |
| ä¿å¯†æ¡æ¬¾ | terms.confidentialityTerms | text | ä¿å¯†è´£ä»»çº¦å®š |
| è¿çº¦è´£ä»» | terms.liabilityTerms | text | è¿çº¦å¤„ç†æ–¹å¼ |
| äº‰è®®è§£å†³ | terms.disputeResolution | text | äº‰è®®è§£å†³æ–¹å¼ |

**æŒ‰é’®é€»è¾‘**ï¼š

| æŒ‰é’® | è§¦å‘æ¡ä»¶ | æ“ä½œé€»è¾‘ |
|------|----------|----------|
| æ–°å»ºåˆåŒ | ä»»æ„æ—¶åˆ» | æ‰“å¼€æ–°å»ºè¡¨å• |
| ç¼–è¾‘ | status = "draft" | æ‰“å¼€ç¼–è¾‘è¡¨å• |
| ç­¾è®¢ | status = "draft" | çŠ¶æ€æ”¹ä¸º"signed" |
| å¼€å§‹æ‰§è¡Œ | status = "signed" | çŠ¶æ€æ”¹ä¸º"executing" |
| ç”Ÿæˆå§”æ‰˜å• | status = "signed" æˆ– "executing" | è·³è½¬å§”æ‰˜å•é¡µé¢å¹¶è‡ªåŠ¨å¡«å……ä¿¡æ¯ |
| ä¸‹è½½PDF | é€‰ä¸­ä¸€æ¡è®°å½• | å¯¼å‡ºå®Œæ•´åˆåŒPDFæ–‡ä»¶ |
| å®Œæˆ | status = "executing" | çŠ¶æ€æ”¹ä¸º"completed" |
| ç»ˆæ­¢ | status != "completed" | çŠ¶æ€æ”¹ä¸º"terminated" |
| ä¸Šä¼ é™„ä»¶ | ä»»æ„çŠ¶æ€ | ä¸Šä¼ ç›–ç« åˆåŒç­‰æ–‡ä»¶ |

---

#### 4.1.4 å§”æ‰˜å•ç®¡ç† (Entrustment)

**åŠŸèƒ½æè¿°**ï¼šç®¡ç†æ£€æµ‹å§”æ‰˜å•ï¼Œæ˜¯æ£€æµ‹ä¸šåŠ¡çš„æ ¸å¿ƒå•æ®ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/entrustment/list`

**è¡¨å•å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|----------|------|------|------|
| å§”æ‰˜ç¼–å· | entrustmentId | string | æ˜¯ | æ ¼å¼ï¼šWT+å¹´æœˆæ—¥+åºå· |
| åˆåŒç¼–å· | contractNo | string | å¦ | å…³è”åˆåŒ |
| å§”æ‰˜å•ä½ | clientName | string | æ˜¯ | å®¢æˆ·å…¬å¸åç§° |
| è”ç³»äºº | contactPerson | string | å¦ | å®¢æˆ·è”ç³»äºº |
| é€æ ·æ—¶é—´ | sampleDate | date | æ˜¯ | æ ·å“é€è¾¾æ—¥æœŸ |
| è·Ÿè¿›äºº | follower | string | æ˜¯ | è´Ÿè´£è·Ÿè¿›çš„ä¸šåŠ¡å‘˜ |
| æ ·å“åç§° | sampleName | string | æ˜¯ | æ ·å“åç§° |
| è§„æ ¼å‹å· | sampleModel | string | å¦ | æ ·å“è§„æ ¼ |
| æè´¨ç‰Œå· | sampleMaterial | string | å¦ | æè´¨ä¿¡æ¯ |
| æ ·å“æ•°é‡ | sampleQuantity | number | å¦ | æ ·å“æ€»æ•° |
| æ˜¯å¦é€€æ · | isSampleReturn | boolean | å¦ | æ£€æµ‹åæ˜¯å¦é€€è¿˜æ ·å“ |
| æ¥æºç±»å‹ | sourceType | enum | å¦ | contract/quotation/direct |

**æ£€æµ‹é¡¹ç›®å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| é¡¹ç›®ID | id | string | å”¯ä¸€æ ‡è¯† |
| é¡¹ç›®åç§° | name | string | æ£€æµ‹é¡¹ç›®åç§° |
| æ£€æµ‹å‚æ•° | testItems | string[] | æ£€æµ‹å‚æ•°åˆ—è¡¨ |
| æ£€æµ‹æ–¹æ³• | method | string | æ£€æµ‹æ–¹æ³•æ ‡å‡† |
| åˆ¤å®šæ ‡å‡† | standard | string | ç»“æœåˆ¤å®šæ ‡å‡† |
| çŠ¶æ€ | status | enum | pending/assigned/subcontracted/completed |
| åˆ†é…ç»™ | assignTo | string | å†…éƒ¨æ£€æµ‹äººå‘˜ |
| åˆ†åŒ…å•† | subcontractor | string | å¤–åŒ…ä¾›åº”å•† |
| å¤–åŒ…æ£€æµ‹å‘˜ | subcontractAssignee | string | å¤–åŒ…æ–¹å…·ä½“æ£€æµ‹äººå‘˜ |
| ä½¿ç”¨è®¾å¤‡ | deviceId | string | æ£€æµ‹è®¾å¤‡ID |
| åˆ†é…æ—¥æœŸ | assignDate | date | ä»»åŠ¡åˆ†é…æ—¥æœŸ |
| æˆªæ­¢æ—¥æœŸ | deadline | date | å®Œæˆæˆªæ­¢æ—¥æœŸ |

**æŒ‰é’®é€»è¾‘**ï¼š

| æŒ‰é’® | è§¦å‘æ¡ä»¶ | æ“ä½œé€»è¾‘ |
|------|----------|----------|
| æ–°å»ºå§”æ‰˜ | ä»»æ„æ—¶åˆ» | æ‰“å¼€æ–°å»ºæŠ½å±‰ |
| ç¼–è¾‘ | ä»»æ„çŠ¶æ€ | æ‰“å¼€ç¼–è¾‘æŠ½å±‰ |
| åˆ é™¤ | æœ‰åˆ é™¤æƒé™ | ç¡®è®¤ååˆ é™¤ |
| æ·»åŠ æ£€æµ‹é¡¹ç›® | ç¼–è¾‘çŠ¶æ€ | æ‰“å¼€é¡¹ç›®æ·»åŠ å¼¹çª— |
| åˆ†é…ï¼ˆå†…éƒ¨ï¼‰ | é¡¹ç›®status = "pending" | æ‰“å¼€åˆ†é…æŠ½å±‰ï¼Œé€‰æ‹©å†…éƒ¨äººå‘˜ |
| åˆ†é…ï¼ˆå¤–åŒ…ï¼‰ | é¡¹ç›®status = "pending" | æ‰“å¼€åˆ†é…æŠ½å±‰ï¼Œé€‰æ‹©å¤–åŒ…ä¾›åº”å•† |
| ç”Ÿæˆå¤–éƒ¨é“¾æ¥ | å·²é€‰ä¸­è®°å½• | ç”Ÿæˆå®¢æˆ·å¡«å†™é“¾æ¥ |
| å…³è”åˆåŒè·³è½¬ | åˆåŒç¼–å·åˆ—å­˜åœ¨ | ç‚¹å‡»è·³è½¬åˆ°å¯¹åº”åˆåŒè¯¦æƒ… |

**å¤–éƒ¨é“¾æ¥åŠŸèƒ½**ï¼š

*åŠŸèƒ½æè¿°*ï¼šä¸ºå§”æ‰˜å•ç”Ÿæˆå¤–éƒ¨é“¾æ¥ï¼Œä¾›å®¢æˆ·åœ¨çº¿å¡«å†™æ ·å“ä¿¡æ¯å’Œæ£€æµ‹è¦æ±‚ã€‚

*ä½¿ç”¨åœºæ™¯*ï¼š
- å®¢æˆ·éœ€è¦è¡¥å……æ ·å“è¯¦ç»†ä¿¡æ¯
- å®¢æˆ·éœ€è¦æä¾›ç‰¹æ®Šæ£€æµ‹è¦æ±‚
- å‡å°‘ç”µè¯æ²Ÿé€šï¼Œæé«˜ä¿¡æ¯å‡†ç¡®æ€§

*åŠŸèƒ½æµç¨‹*ï¼š
1. ä¸šåŠ¡å‘˜åœ¨å§”æ‰˜å•åˆ—è¡¨ç‚¹å‡»"å¤–éƒ¨é“¾æ¥"æŒ‰é’®
2. ç³»ç»Ÿç”Ÿæˆå”¯ä¸€ tokenï¼ˆ64ä½åå…­è¿›åˆ¶ï¼‰å’Œ7å¤©æœ‰æ•ˆæœŸ
3. é“¾æ¥è‡ªåŠ¨å¤åˆ¶åˆ°å‰ªè´´æ¿
4. ä¸šåŠ¡å‘˜å°†é“¾æ¥å‘é€ç»™å®¢æˆ·
5. å®¢æˆ·é€šè¿‡é“¾æ¥è®¿é—®å¡«å†™é¡µé¢ï¼ˆæ— éœ€ç™»å½•ï¼‰
6. å®¢æˆ·å¡«å†™æ ·å“ä¿¡æ¯ã€æ£€æµ‹é¡¹ç›®ã€ç‰¹æ®Šè¦æ±‚
7. æäº¤åæ•°æ®ç›´æ¥æ›´æ–°åˆ°å§”æ‰˜å•

*å®¢æˆ·å¡«å†™é¡µé¢å­—æ®µ*ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|----------|------|------|------|
| å§”æ‰˜å•å· | entrustmentNo | string | - | åªè¯»æ˜¾ç¤º |
| å§”æ‰˜å•ä½ | clientName | string | - | åªè¯»æ˜¾ç¤º |
| æ ·å“åç§° | sampleName | string | æ˜¯ | æ ·å“åç§° |
| è§„æ ¼å‹å· | sampleModel | string | å¦ | æ ·å“è§„æ ¼ |
| æè´¨ç‰Œå· | sampleMaterial | string | å¦ | æè´¨ä¿¡æ¯ |
| æ ·å“æ•°é‡ | sampleQuantity | number | æ˜¯ | æ ·å“æ•°é‡ |
| ç‰¹æ®Šè¦æ±‚ | specialRequirements | text | å¦ | ç‰¹æ®Šæ£€æµ‹è¦æ±‚ |
| å…¶ä»–éœ€æ±‚ | otherRequirements | text | å¦ | å…¶ä»–è¡¥å……è¯´æ˜ |
| éªŒè¯ç  | captcha | string | æ˜¯ | 4ä½æ•°å­—éªŒè¯ç  |

*æŠ€æœ¯å®ç°*ï¼š
- Token å­˜å‚¨ï¼šEntrustment.remark å­—æ®µï¼ˆJSONæ ¼å¼ï¼‰
- å¤–éƒ¨é¡µé¢è·¯å¾„ï¼š`/external/entrustment/[token]`
- API è·¯ç”±ï¼š
  - `POST /api/entrustment/[id]/external-link` - ç”Ÿæˆé“¾æ¥
  - `GET /api/external/entrustment/validate?token=xxx` - éªŒè¯token
  - `POST /api/external/entrustment/submit` - æäº¤æ•°æ®

---

#### 4.1.5 å®¢æˆ·å•ä½ç®¡ç† (ClientUnit)

**åŠŸèƒ½æè¿°**ï¼šç®¡ç†å®¢æˆ·å•ä½ä¿¡æ¯ï¼ŒåŒ…å«å¼€ç¥¨ä¿¡æ¯ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/entrustment/client`

**è¡¨å•å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|----------|------|------|------|
| å•ä½åç§° | name | string | æ˜¯ | å…¬å¸å…¨ç§° |
| è”ç³»äºº | contactPerson | string | æ˜¯ | ä¸»è¦è”ç³»äºº |
| è”ç³»ç”µè¯ | contactPhone | string | æ˜¯ | è”ç³»ç”µè¯ |
| åœ°å€ | address | string | å¦ | å…¬å¸åœ°å€ |
| å¤‡æ³¨ | remark | string | å¦ | å¤‡æ³¨ä¿¡æ¯ |
| ç¨å· | taxId | string | å¦ | çº³ç¨äººè¯†åˆ«å· |
| å¼€ç¥¨åœ°å€ | invoiceAddress | string | å¦ | å‘ç¥¨æŠ¬å¤´åœ°å€ |
| å¼€ç¥¨ç”µè¯ | invoicePhone | string | å¦ | å‘ç¥¨æŠ¬å¤´ç”µè¯ |
| å¼€æˆ·è¡Œ | bankName | string | å¦ | é“¶è¡Œåç§° |
| é“¶è¡Œè´¦å· | bankAccount | string | å¦ | é“¶è¡Œè´¦å· |
| çŠ¶æ€ | status | enum | æ˜¯ | draft/pending/approved/rejected |
| åˆ›å»ºäºº | creator | string | æ˜¯ | è‡ªåŠ¨è®°å½• |
| åˆ›å»ºæ—¶é—´ | createTime | datetime | æ˜¯ | è‡ªåŠ¨è®°å½• |

---

### 4.2 æ ·å“ç®¡ç†æ¨¡å—

#### 4.2.1 æ”¶æ ·ç™»è®° (SampleRegistration)

**åŠŸèƒ½æè¿°**ï¼šç™»è®°æ¥æ”¶çš„æ ·å“ä¿¡æ¯ï¼Œç”Ÿæˆæ ·å“æ ‡ç­¾ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/sample/receipt`

**è¡¨å•å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|----------|------|------|------|
| æ ·å“ç¼–å· | sampleNo | string | æ˜¯ | è‡ªåŠ¨ç”Ÿæˆï¼Œæ ¼å¼ï¼šS+å¹´æœˆæ—¥+åºå· |
| å§”æ‰˜å•å· | entrustmentId | string | æ˜¯ | å…³è”å§”æ‰˜å• |
| æ ·å“åç§° | name | string | æ˜¯ | æ ·å“åç§° |
| è§„æ ¼å‹å· | spec | string | æ˜¯ | è§„æ ¼å‹å· |
| æ ·å“æ€»é‡ | quantity | number | æ˜¯ | æ¥æ”¶æ•°é‡ |
| å•ä½ | unit | enum | æ˜¯ | ä¸ª/ä»¶/æ‰¹/kg/g/L/mL/m/mÂ²/mÂ³ |
| æ”¶æ ·æ—¥æœŸ | receiptDate | date | æ˜¯ | è‡ªåŠ¨è®°å½•å½“å¤© |
| æ”¶æ ·äºº | receiptPerson | string | æ˜¯ | è‡ªåŠ¨è®°å½•å½“å‰ç”¨æˆ· |
| çŠ¶æ€ | status | enum | æ˜¯ | å¾…æ”¶æ ·/å·²æ”¶æ ·/å·²åˆ†é…/æ£€æµ‹ä¸­/å·²å®Œæˆ/å·²å½’è¿˜/å·²é”€æ¯ |

**æŒ‰é’®é€»è¾‘**ï¼š

| æŒ‰é’® | è§¦å‘æ¡ä»¶ | æ“ä½œé€»è¾‘ |
|------|----------|----------|
| æ–°å»ºæ”¶æ · | ä»»æ„æ—¶åˆ» | æ‰“å¼€ç™»è®°å¼¹çª—ï¼Œæ”¯æŒé€‰æ‹©å§”æ‰˜å•è‡ªåŠ¨å¡«å…… |
| ç¼–è¾‘ | ä»»æ„çŠ¶æ€ | æ‰“å¼€ç¼–è¾‘å¼¹çª— |
| åˆ é™¤ | æœ‰æƒé™ | ç¡®è®¤ååˆ é™¤ |
| æ ‡ç­¾ | åˆ—è¡¨æ“ä½œåˆ— | æ‰“å¼€æ ‡ç­¾é¢„è§ˆå¼¹çª—ï¼Œæ”¯æŒä¸‹è½½PNG |

**æ ·å“æ ‡ç­¾å†…å®¹**ï¼š
- æ¡å½¢ç  (Code128)
- æ ·å“ç¼–å·
- æ ·å“åç§°

---

#### 4.2.2 æ ·å“æ˜ç»† (SampleDetails)

**åŠŸèƒ½æè¿°**ï¼šæŸ¥çœ‹æ‰€æœ‰æ ·å“çš„è¯¦ç»†ä¿¡æ¯å’Œæµè½¬è®°å½•ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/sample/details`

**å±•ç¤ºå­—æ®µ**ï¼š
- æ ·å“ç¼–å·ã€å§”æ‰˜å•å·ã€æ ·å“åç§°ã€è§„æ ¼å‹å·
- æ€»é‡ (Total)ã€å¯ç”¨é‡ (Remaining)ã€å•ä½
- æ”¶æ ·æ—¥æœŸã€æ”¶æ ·äºº
- çŠ¶æ€

**æ“ä½œæŒ‰é’®**ï¼š
- **è¯¦æƒ…**ï¼šæŸ¥çœ‹æ ·å“åŸºæœ¬ä¿¡æ¯å’Œæµè½¬è®°å½•
- **å†…éƒ¨é¢†ç”¨**ï¼šå‘èµ·å†…éƒ¨å€Ÿç”¨ç”³è¯·ï¼ˆå…³è”å®éªŒå®¤ã€ç”¨é€”ï¼‰
- **å¤–éƒ¨å§”å¤–**ï¼šå‘èµ·å§”å¤–æ£€æµ‹ç”³è¯·ï¼ˆå…³è”ä¾›åº”å•†ã€æˆªæ­¢æ—¥æœŸï¼‰
- **è®°å½•**ï¼šæŸ¥çœ‹è¯¥æ ·å“çš„æ‰€æœ‰é¢†ç”¨å’Œå§”å¤–è®°å½•

**ç­›é€‰æ¡ä»¶**ï¼š
- å…³é”®è¯æœç´¢ï¼šæ ·å“ç¼–å·ã€æ ·å“åç§°
- çŠ¶æ€ç­›é€‰
- æ—¥æœŸèŒƒå›´ç­›é€‰

---

#### 4.2.3 æˆ‘çš„æ ·å“ (MySamples)

**åŠŸèƒ½æè¿°**ï¼šæŸ¥çœ‹å½“å‰ç”¨æˆ·é¢†ç”¨çš„æ ·å“ï¼Œæ”¯æŒæ–°å»ºé¢†ç”¨å’Œå½’è¿˜ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/sample/my`

**å±•ç¤ºå­—æ®µ**ï¼š
- æ ·å“ç¼–å·ã€æ ·å“åç§°ã€è§„æ ¼å‹å·
- é¢†ç”¨æ•°é‡ã€ç”¨é€”
- é¢†ç”¨æ—¥æœŸã€é¢„è®¡å½’è¿˜æ—¥æœŸã€å®é™…å½’è¿˜æ—¥æœŸ
- çŠ¶æ€ï¼ˆé¢†ç”¨ä¸­/å·²å½’è¿˜/é€¾æœŸï¼‰

**æ“ä½œæŒ‰é’®**ï¼š
- **æ–°å»ºé¢†ç”¨**ï¼šé€‰æ‹©æ ·å“å‘èµ·é¢†ç”¨ç”³è¯·
- **å½’è¿˜**ï¼šå½’è¿˜å·²é¢†ç”¨çš„æ ·å“ï¼ˆå¡«å†™å½’è¿˜æ—¥æœŸã€å¤‡æ³¨ï¼‰

---

### 4.3 ä»»åŠ¡ç®¡ç†æ¨¡å—

#### 4.3.1 å…¨éƒ¨ä»»åŠ¡ (AllTasks)

**åŠŸèƒ½æè¿°**ï¼šæŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰æ£€æµ‹ä»»åŠ¡ï¼Œæ”¯æŒä»»åŠ¡åˆ†é…ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/task/all`

**ä»»åŠ¡å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| ä»»åŠ¡ç¼–å· | taskNo | string | è‡ªåŠ¨ç”Ÿæˆ |
| å§”æ‰˜å•å· | entrustmentId | string | å…³è”å§”æ‰˜å• |
| æ ·å“åç§° | sampleName | string | æ£€æµ‹æ ·å“ |
| æ£€æµ‹å‚æ•° | parameters | string[] | æ£€æµ‹é¡¹ç›®åˆ—è¡¨ |
| çŠ¶æ€ | status | enum | pending/in_progress/completed |
| æ‰§è¡Œäºº | assignedTo | string | åˆ†é…çš„æ£€æµ‹äººå‘˜ |
| æˆªæ­¢æ—¥æœŸ | dueDate | date | å®Œæˆæˆªæ­¢æ—¥æœŸ |
| æ˜¯å¦å¤–åŒ… | isOutsourced | boolean | æ˜¯å¦å§”å¤–ä»»åŠ¡ï¼ˆåˆ†åŒ…æ—¶è‡ªåŠ¨åˆ›å»ºï¼‰ |

**åˆ†é…è¡¨å•å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|----------|------|------|------|
| åˆ†é…ç»™ | assignedTo | string | æ˜¯ | é€‰æ‹©æ£€æµ‹äººå‘˜ |
| ä½¿ç”¨è®¾å¤‡ | deviceId | string | å¦ | é€‰æ‹©æ£€æµ‹è®¾å¤‡ |
| æˆªæ­¢æ—¥æœŸ | dueDate | date | æ˜¯ | å®ŒæˆæœŸé™ |
| å¤‡æ³¨è¯´æ˜ | remark | text | å¦ | ä»»åŠ¡è¯´æ˜ |

**æŒ‰é’®é€»è¾‘**ï¼š

| æŒ‰é’® | è§¦å‘æ¡ä»¶ | æ“ä½œé€»è¾‘ |
|------|----------|----------|
| å½•å…¥æ•°æ® | status = "in_progress" | è·³è½¬æ•°æ®å½•å…¥é¡µé¢ |
| æŸ¥çœ‹æ•°æ® | status = "completed" | æŸ¥çœ‹åªè¯»æ•°æ®é¡µé¢ |
| åˆ†é… | ä»»åŠ¡æœªåˆ†é… | æ‰“å¼€åˆ†é…å¼¹çª— |


**ç»Ÿè®¡ä¿¡æ¯**ï¼š
- æœªåˆ†é…ä»»åŠ¡æ•°
- è¿›è¡Œä¸­ä»»åŠ¡æ•°
- å·²å®Œæˆä»»åŠ¡æ•°

---

#### 4.3.2 æˆ‘çš„ä»»åŠ¡ (MyTasks)

**åŠŸèƒ½æè¿°**ï¼šæŸ¥çœ‹å½“å‰ç”¨æˆ·è¢«åˆ†é…çš„ä»»åŠ¡ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/task/my`

**ç»Ÿè®¡å¡ç‰‡**ï¼š
- å…¨éƒ¨ä»»åŠ¡æ•°
- å¾…å¼€å§‹æ•°
- è¿›è¡Œä¸­æ•°
- å·²å®Œæˆæ•°

**æ“ä½œæŒ‰é’®**ï¼š

| æŒ‰é’® | è§¦å‘æ¡ä»¶ | æ“ä½œé€»è¾‘ |
|------|----------|----------|
| å¼€å§‹ | status = "pending" | ä»»åŠ¡çŠ¶æ€æ”¹ä¸º in_progressï¼Œè·³è½¬æ•°æ®å½•å…¥é¡µ |
| å½•å…¥æ•°æ® | status = "in_progress" | è·³è½¬åˆ°æ•°æ®å½•å…¥é¡µé¢ `/task/data/[id]` |
| æŸ¥çœ‹æ•°æ® | status = "pending_review" æˆ– "completed" | æŸ¥çœ‹åªè¯»æ•°æ®é¡µé¢ |
| è½¬äº¤ | status != "completed" ä¸” != "pending_review" | æ‰“å¼€è½¬äº¤å¼¹çª—ï¼Œé€‰æ‹©æ¥æ”¶äºº |

**è½¬äº¤ä»»åŠ¡å¼¹çª—å­—æ®µ**ï¼š
| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|----------|------|------|------|
| è½¬äº¤ç»™ | assignedToId | string | æ˜¯ | é€‰æ‹©æ¥æ”¶äººå‘˜ |
| è½¬äº¤åŸå›  | reason | enum | å¦ | å·¥ä½œè°ƒæ•´/è®¾å¤‡æ•…éšœ/æŠ€æœ¯æ”¯æ´/å…¶ä»– |

**ç­›é€‰æ¡ä»¶**ï¼š
- çŠ¶æ€ç­›é€‰ï¼šå¾…å¼€å§‹/è¿›è¡Œä¸­/å¾…å®¡æ ¸/å·²å®Œæˆ

---

### 4.4 æ£€æµ‹ç®¡ç†æ¨¡å—

#### 4.4.1 æ•°æ®å½•å…¥ (DataEntry)

**åŠŸèƒ½æè¿°**ï¼šæ£€æµ‹äººå‘˜å½•å…¥æ£€æµ‹æ•°æ®ï¼Œæ”¯æŒè¡¨æ ¼ç¼–è¾‘ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/task/data/[id]`

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š
- åŸºäº Fortune-sheet çš„è¡¨æ ¼ç¼–è¾‘ç»„ä»¶
- æ”¯æŒä»æ£€æµ‹æ¨¡æ¿åŠ è½½
- æ”¯æŒå…¬å¼è®¡ç®—
- **è‡ªåŠ¨ä¿å­˜**ï¼šç‚¹å‡»ä¿å­˜è‰ç¨¿æš‚å­˜æ•°æ®
- **æäº¤ç›´æ¥å®Œæˆ**ï¼šæäº¤åä»»åŠ¡çŠ¶æ€ç›´æ¥å˜ä¸º"å·²å®Œæˆ"ï¼Œæ•°æ®é”å®šåªè¯»

---

### 4.5 æŠ¥å‘Šç®¡ç†æ¨¡å—

#### 4.5.1 ä»»åŠ¡æŠ¥å‘Š (TaskReports)

**åŠŸèƒ½æè¿°**ï¼šç®¡ç†åŸºäºå•ä¸ªæ£€æµ‹ä»»åŠ¡çš„åŸå§‹æ£€æµ‹æŠ¥å‘Šã€‚

**é¡µé¢è·¯å¾„**ï¼š
- æŠ¥å‘Šç”Ÿæˆï¼š`/report/task-generate`
- æŠ¥å‘Šè¯¦æƒ…ï¼š`/report/task/[id]`

**æ ¸å¿ƒæµç¨‹**ï¼š
1. **ç”Ÿæˆ**ï¼šä»"å·²å®Œæˆ"çš„ä»»åŠ¡ä¸­é€‰æ‹©ç”ŸæˆæŠ¥å‘Š
2. **é¢„è§ˆ**ï¼šå®æ—¶é¢„è§ˆæŠ¥å‘Šå†…å®¹ï¼ŒåŒ…å«æ£€æµ‹æ•°æ®è¡¨æ ¼å’Œç»“è®º
3. **å¯¼å‡º**ï¼šæ”¯æŒ Excel/PDF å¯¼å‡º

**æŠ¥å‘Šå­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| æŠ¥å‘Šç¼–å· | reportNo | string | æ ¼å¼ï¼šRPT-YYYYMMDD-XXX |
| ä»»åŠ¡ç¼–å· | taskNo | string | å…³è”ä»»åŠ¡ |
| æ ·å“åç§° | sampleName | string | æ ·å“åç§° |
| æ£€æµ‹ç»“è®º | overallConclusion | string | åˆæ ¼/ä¸åˆæ ¼ |
| æ£€æµ‹æ•°æ® | testResults | json | å®Œæ•´æ£€æµ‹æ•°æ®å¿«ç…§ |
| æ£€æµ‹äºº | tester | string | æ£€æµ‹äººå‘˜ |
| çŠ¶æ€ | status | enum | è‰ç¨¿/å·²å‘å¸ƒ |

---

#### 4.5.2 å®¢æˆ·æŠ¥å‘Š (ClientReports)

**åŠŸèƒ½æè¿°**ï¼šç®¡ç†é¢å‘å®¢æˆ·çš„æ­£å¼ç»¼åˆæŠ¥å‘Šï¼Œæ”¯æŒåˆå¹¶å¤šä¸ªä»»åŠ¡æŠ¥å‘Šã€‚

**é¡µé¢è·¯å¾„**ï¼š
- æŠ¥å‘Šç”Ÿæˆï¼š`/report/client-generate`
- æŠ¥å‘Šè¯¦æƒ…ï¼š`/report/client/[id]`

**åŠŸèƒ½æµç¨‹**ï¼š
1. **é€‰æ‹©å§”æ‰˜å•**ï¼šé€‰æ‹©éœ€è¦å‡ºå…·æŠ¥å‘Šçš„å§”æ‰˜å•
2. **é€‰æ‹©ä»»åŠ¡**ï¼šå‹¾é€‰è¯¥å§”æ‰˜å•ä¸‹å·²å®Œæˆçš„ä»»åŠ¡ï¼ˆæ”¯æŒå¤šé€‰åˆå¹¶ï¼‰
3. **å¡«å†™å°é¢**ï¼šè¡¥å……æŠ¥å‘Šæ ‡é¢˜ã€å¤‡æ³¨ç­‰ä¿¡æ¯
4. **ç”ŸæˆæŠ¥å‘Š**ï¼šç³»ç»Ÿè‡ªåŠ¨èšåˆæ‰€æœ‰ä»»åŠ¡çš„æ£€æµ‹æ•°æ®

**æŠ¥å‘Šå­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| æŠ¥å‘Šç¼–å· | reportNo | string | å®¢æˆ·æŠ¥å‘Šç¼–å· |
| å§”æ‰˜å•å· | entrustmentId | string | å…³è”å§”æ‰˜å• |
| å®¢æˆ·åç§° | clientName | string | å§”æ‰˜å•ä½ |
| åŒ…å«ä»»åŠ¡ | taskReports | list | å…³è”çš„ä»»åŠ¡æŠ¥å‘Šåˆ—è¡¨ |
| æ€»ä½“ç»“è®º | conclusion | text | ç»¼åˆç»“è®º |
| çŠ¶æ€ | status | enum | è‰ç¨¿/å·²å‘å¸ƒ |

---

#### 4.5.3 æŠ¥å‘Šæ¨¡æ¿ç®¡ç†

**é¡µé¢è·¯å¾„**ï¼š
- ä»»åŠ¡æŠ¥å‘Šæ¨¡æ¿ï¼š`/report/task-template`
- å®¢æˆ·æŠ¥å‘Šæ¨¡æ¿ï¼š`/report/client-template`

**åŠŸèƒ½æè¿°**ï¼šåˆ†ç±»ç®¡ç†ä¸åŒå±‚çº§çš„æŠ¥å‘Šæ¨¡æ¿ã€‚

---

### 4.6 è´¢åŠ¡ç®¡ç†æ¨¡å—

#### 4.6.1 åº”æ”¶è´¦æ¬¾ (Receivables)

**åŠŸèƒ½æè¿°**ï¼šç®¡ç†æ£€æµ‹æœåŠ¡åº”æ”¶æ¬¾é¡¹ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/finance/receivable`

**åº”æ”¶å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| åº”æ”¶ç¼–å· | receivableNo | string | æ ¼å¼ï¼šAR-YYYYMMDD-XXX |
| å§”æ‰˜å•å· | entrustmentId | string | å…³è”å§”æ‰˜å• |
| å®¢æˆ·å•ä½ | clientName | string | å®¢æˆ·åç§° |
| åº”æ”¶æ€»é¢ | totalAmount | number | åº”æ”¶é‡‘é¢ |
| å·²æ”¶é‡‘é¢ | receivedAmount | number | å·²æ”¶åˆ°é‡‘é¢ |
| å¾…æ”¶é‡‘é¢ | remainingAmount | number | å‰©ä½™åº”æ”¶ |
| çŠ¶æ€ | status | enum | æœªæ”¶æ¬¾/å·²æ”¶æ¬¾ |
| å…³è”æŠ¥å‘Š | reportNos | string[] | æŠ¥å‘Šç¼–å·åˆ—è¡¨ |
| åº”æ”¶æ—¥æœŸ | dueDate | date | é¢„è®¡æ”¶æ¬¾æ—¥æœŸ |
| åˆ›å»ºæ—¶é—´ | createTime | datetime | åˆ›å»ºæ—¶é—´ |

---

#### 4.6.2 æ”¶æ¬¾è®°å½• (PaymentRecords)

**åŠŸèƒ½æè¿°**ï¼šè®°å½•æ”¶æ¬¾æ˜ç»†ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/finance/payment`

**æ”¶æ¬¾å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| è®°å½•ç¼–å· | recordNo | string | æ”¶æ¬¾è®°å½•å· |
| åº”æ”¶ç¼–å· | receivableNo | string | å…³è”åº”æ”¶æ¬¾ |
| æ”¶æ¬¾é‡‘é¢ | paymentAmount | number | æœ¬æ¬¡æ”¶æ¬¾é‡‘é¢ |
| æ”¶æ¬¾æ—¥æœŸ | paymentDate | date | æ”¶æ¬¾æ—¥æœŸ |
| æ”¶æ¬¾æ–¹å¼ | paymentMethod | enum | ç°é‡‘/é“¶è¡Œè½¬è´¦/æ”¯ç¥¨/å…¶ä»– |
| ç»åŠäºº | handlerName | string | æ”¶æ¬¾ç»åŠäºº |
| é“¶è¡Œåç§° | bankName | string | ä»˜æ¬¾é“¶è¡Œ |
| äº¤æ˜“æµæ°´å· | transactionNo | string | é“¶è¡Œæµæ°´å· |
| é™„ä»¶ | attachments | string[] | æ”¶æ¬¾å‡­è¯ |

---

#### 4.6.3 å¼€ç¥¨ç®¡ç† (InvoiceManagement)

**åŠŸèƒ½æè¿°**ï¼šç®¡ç†å‘ç¥¨å¼€å…·ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/finance/invoice`

**å‘ç¥¨å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| å‘ç¥¨å·ç  | invoiceNo | string | å‘ç¥¨å· |
| å§”æ‰˜å•å· | entrustmentId | string | å…³è”å§”æ‰˜å• |
| åº”æ”¶ç¼–å· | receivableNo | string | å…³è”åº”æ”¶æ¬¾ |
| è´­ä¹°æ–¹åç§° | clientName | string | å‘ç¥¨æŠ¬å¤´ |
| è´­ä¹°æ–¹ç¨å· | clientTaxNo | string | çº³ç¨äººè¯†åˆ«å· |
| è´­ä¹°æ–¹åœ°å€ | clientAddress | string | åœ°å€ |
| è´­ä¹°æ–¹ç”µè¯ | clientPhone | string | ç”µè¯ |
| è´­ä¹°æ–¹å¼€æˆ·è¡Œ | clientBank | string | é“¶è¡Œåç§° |
| è´­ä¹°æ–¹è´¦å· | clientBankAccount | string | é“¶è¡Œè´¦å· |
| å‘ç¥¨ç±»å‹ | invoiceType | enum | å¢å€¼ç¨æ™®é€šå‘ç¥¨/å¢å€¼ç¨ä¸“ç”¨å‘ç¥¨ |
| å¼€ç¥¨é‡‘é¢ | invoiceAmount | number | ä¸å«ç¨é‡‘é¢ |
| ç¨ç‡ | taxRate | number | 6%æˆ–13% |
| ç¨é¢ | taxAmount | number | ç¨é¢ |
| ä»·ç¨åˆè®¡ | totalAmount | number | å«ç¨æ€»é¢ |
| å¼€ç¥¨æ—¥æœŸ | invoiceDate | date | å¼€ç¥¨æ—¥æœŸ |
| çŠ¶æ€ | status | enum | å¾…å¼€ç¥¨/å·²å¼€ç¥¨ |

---

### 4.7 è®¾å¤‡ç®¡ç†æ¨¡å—

#### 4.7.1 è®¾å¤‡å°è´¦ (DeviceInfo)

**åŠŸèƒ½æè¿°**ï¼šç®¡ç†å®éªŒå®¤è®¾å¤‡ä¿¡æ¯ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/device`

**è®¾å¤‡å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| è®¾å¤‡ID | id | string | å”¯ä¸€æ ‡è¯† |
| è®¾å¤‡ç¼–å· | code | string | å¦‚ ALTCCS-2022001 |
| è®¾å¤‡åç§° | name | string | è®¾å¤‡åç§° |
| å‹å· | model | string | è®¾å¤‡å‹å· |
| åˆ¶é€ å•† | manufacturer | string | ç”Ÿäº§å‚å®¶ |
| å‡ºå‚ç¼–å· | serialNumber | string | åºåˆ—å· |
| èµ„äº§ç±»å‹ | assetType | enum | instrument/device/glassware |
| çŠ¶æ€ | status | enum | Running/Maintenance/Idle/Scrapped |
| å­˜æ”¾åŒºåŸŸ | location | string | å­˜æ”¾ä½ç½® |
| æ‰€å±éƒ¨é—¨ | department | string | éƒ¨é—¨ |
| é‡‡è´­æ—¥æœŸ | purchaseDate | date | é‡‡è´­æ—¶é—´ |
| å¯ç”¨æ—¥æœŸ | commissioningDate | date | æŠ•å…¥ä½¿ç”¨æ—¥æœŸ |
| ä¸Šæ¬¡å®šæ£€ | lastCalibrationDate | date | ä¸Šæ¬¡æ ¡å‡†æ—¥æœŸ |
| ä¸‹æ¬¡å®šæ£€ | nextCalibrationDate | date | ä¸‹æ¬¡æ ¡å‡†æ—¥æœŸ |
| è®¾å¤‡è´Ÿè´£äºº | responsiblePerson | string | è´Ÿè´£äºº |
| åˆ©ç”¨ç‡ | utilization | number | ä½¿ç”¨ç‡ç™¾åˆ†æ¯” |
| è¿è¡Œæ—¶é•¿ | operatingHours | number | ç´¯è®¡è¿è¡Œå°æ—¶ |

---

#### 4.7.2 ä¿å…»è®¡åˆ’ (MaintenancePlan)

**åŠŸèƒ½æè¿°**ï¼šç®¡ç†è®¾å¤‡ä¿å…»è®¡åˆ’ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/device/maintenance-plan`

**è®¡åˆ’å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| è®¡åˆ’ID | id | string | å”¯ä¸€æ ‡è¯† |
| è®¾å¤‡ID | deviceId | string | å…³è”è®¾å¤‡ |
| è®¾å¤‡åç§° | deviceName | string | è®¾å¤‡åç§° |
| è®¡åˆ’åç§° | planName | string | ä¿å…»è®¡åˆ’åç§° |
| å‘¨æœŸç±»å‹ | planType | enum | daily/weekly/monthly/quarterly/annual |
| é—´éš”å¤©æ•° | interval | number | ä¿å…»é—´éš” |
| ä¸‹æ¬¡ä¿å…»æ—¥æœŸ | nextMaintenanceDate | date | è®¡åˆ’æ—¥æœŸ |
| è´Ÿè´£äºº | responsiblePerson | string | è´Ÿè´£äºº |
| ä¿å…»é¡¹ç›® | maintenanceItems | string[] | ä¿å…»å†…å®¹åˆ—è¡¨ |
| çŠ¶æ€ | status | enum | active/inactive |

---

#### 4.7.3 ç»´ä¿®ç®¡ç† (RepairManagement)

**åŠŸèƒ½æè¿°**ï¼šç®¡ç†è®¾å¤‡ç»´ä¿®è®°å½•ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/device/repair`

---

#### 4.7.4 å®šæ£€è®¡åˆ’ (CalibrationPlan)

**åŠŸèƒ½æè¿°**ï¼šç®¡ç†è®¾å¤‡æ ¡å‡†è®¡åˆ’ã€‚

**é¡µé¢è·¯å¾„**ï¼š`/device/calibration-plan`

---

### 4.8 ç»Ÿè®¡æŠ¥è¡¨æ¨¡å—

#### 4.8.1 å§”æ‰˜ç»Ÿè®¡ (EntrustmentStats)

**é¡µé¢è·¯å¾„**ï¼š`/statistics`

**ç»Ÿè®¡ç»´åº¦**ï¼š
- æŒ‰æ—¶é—´ï¼šæœˆåº¦/å­£åº¦/å¹´åº¦å§”æ‰˜é‡è¶‹åŠ¿
- æŒ‰å®¢æˆ·ï¼šTOPå®¢æˆ·å§”æ‰˜é‡æ’å
- æŒ‰ç±»å‹ï¼šä¸åŒæ£€æµ‹ç±»å‹åˆ†å¸ƒ

#### 4.8.2 æ ·å“ç»Ÿè®¡ (SampleStats)

**é¡µé¢è·¯å¾„**ï¼š`/statistics`ï¼ˆåŒä¸€é¡µé¢å†…åˆ‡æ¢ï¼‰

**ç»Ÿè®¡ç»´åº¦**ï¼š
- æ ·å“æ¥æ”¶é‡è¶‹åŠ¿
- æ ·å“çŠ¶æ€åˆ†å¸ƒ
- å„ç±»å‹æ ·å“å æ¯”

#### 4.8.3 ä»»åŠ¡ç»Ÿè®¡ (TaskStats)

**é¡µé¢è·¯å¾„**ï¼š`/statistics`ï¼ˆåŒä¸€é¡µé¢å†…åˆ‡æ¢ï¼‰

**ç»Ÿè®¡ç»´åº¦**ï¼š
- ä»»åŠ¡å®Œæˆæƒ…å†µ
- äººå‘˜å·¥ä½œé‡ç»Ÿè®¡
- ä»»åŠ¡å‘¨æœŸåˆ†æ

---

### 4.9 ç³»ç»Ÿç®¡ç†æ¨¡å—

#### 4.9.1 å®¡æ‰¹ä¸­å¿ƒ (ApprovalCenter)

**é¡µé¢è·¯å¾„**ï¼š`/approval` ï¼ˆå…¥å£å·²é›†æˆè‡³å·¥ä½œå° `/dashboard`ï¼‰

**åŠŸèƒ½æè¿°**ï¼šç»Ÿä¸€å®¡æ‰¹ä¸­å¿ƒï¼Œé›†ä¸­å¤„ç†æ‰€æœ‰å¾…å®¡æ‰¹ä¸šåŠ¡å’ŒæŸ¥çœ‹æˆ‘çš„å®¡æ‰¹æäº¤ã€‚

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
1. **å¾…æˆ‘å®¡æ‰¹** - æŸ¥çœ‹æ‰€æœ‰éœ€è¦å½“å‰ç”¨æˆ·å®¡æ‰¹çš„ç”³è¯·
2. **æˆ‘çš„æäº¤** - æŸ¥çœ‹å½“å‰ç”¨æˆ·æäº¤çš„æ‰€æœ‰å®¡æ‰¹ç”³è¯·
3. **å¿«é€Ÿå®¡æ‰¹** - æ”¯æŒé€šè¿‡ã€é©³å›æ“ä½œ
4. **å®¡æ‰¹å†å²** - æŸ¥çœ‹å®Œæ•´çš„å®¡æ‰¹è®°å½•å’Œæµè½¬çŠ¶æ€

**å±•ç¤ºå­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | è¯´æ˜ |
|--------|----------|------|------|
| ä¸šåŠ¡ç±»å‹ | bizType | enum | quotation/contract/client |
| ä¸šåŠ¡ç¼–å· | bizId | string | å…³è”ä¸šåŠ¡å•å· |
| æäº¤äºº | submitterName | string | ç”³è¯·äººå§“å |
| å½“å‰æ­¥éª¤ | currentStep | number | å½“å‰å®¡æ‰¹çº§åˆ« |
| çŠ¶æ€ | status | enum | pending/approved/rejected/cancelled |
| æäº¤æ—¶é—´ | submittedAt | datetime | æäº¤æ—¶é—´ |

**æ“ä½œæŒ‰é’®**ï¼š

| æŒ‰é’® | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| é€šè¿‡ | approve | åŒæ„è¯¥å®¡æ‰¹ï¼Œè¿›å…¥ä¸‹ä¸€çº§æˆ–å®Œæˆ |
| é©³å› | reject | æ‹’ç»è¯¥å®¡æ‰¹ï¼Œæµç¨‹ç»“æŸ |
| è¯¦æƒ… | view | æŸ¥çœ‹ä¸šåŠ¡è¯¦ç»†ä¿¡æ¯å’Œå®¡æ‰¹å†å² |

**ç­›é€‰æ¡ä»¶**ï¼š
- çŠ¶æ€ç­›é€‰ï¼šå…¨éƒ¨/å®¡æ‰¹ä¸­/å·²é€šè¿‡/å·²é©³å›
- ä¸šåŠ¡ç±»å‹ç­›é€‰ï¼šæŠ¥ä»·å•/åˆåŒ/å®¢æˆ·å•ä½
- æäº¤äººç­›é€‰
- æ—¥æœŸèŒƒå›´ç­›é€‰

**ç›¸å…³æ–‡ä»¶**ï¼š
- å®¡æ‰¹ä¸­å¿ƒé¡µé¢ï¼š`src/app/(dashboard)/approval/page.tsx`
- å®¡æ‰¹å®ä¾‹æŸ¥è¯¢ APIï¼š`src/app/api/approval/route.ts`

---

#### 4.9.2 ç”¨æˆ·ç®¡ç† (UserManagement)

**é¡µé¢è·¯å¾„**ï¼š`/system/user`

**ç•Œé¢å¸ƒå±€**ï¼š
- **å·¦ä¾§**ï¼šç»„ç»‡æ¶æ„æ ‘ï¼ˆéƒ¨é—¨æ ‘ï¼‰ï¼Œæ”¯æŒéƒ¨é—¨å¢åˆ æ”¹
- **å³ä¾§**ï¼šæ‰€é€‰éƒ¨é—¨ä¸‹çš„ç”¨æˆ·åˆ—è¡¨

**ç”¨æˆ·å­—æ®µ**ï¼š
- ç”¨æˆ·IDã€ç”¨æˆ·åï¼ˆå¯é€‰ï¼Œè‡ªåŠ¨ç”Ÿæˆï¼‰ã€å§“å
- é‚®ç®±ã€æ‰‹æœºã€éƒ¨é—¨
- è§’è‰²ã€çŠ¶æ€ï¼ˆæ”¯æŒå¿«é€Ÿå¯ç”¨/ç¦ç”¨ï¼‰
- åˆ›å»ºæ—¶é—´ã€æœ€åç™»å½•æ—¶é—´

#### 4.9.3 è§’è‰²ç®¡ç† (RoleManagement)

**é¡µé¢è·¯å¾„**ï¼š`/system/role`

**è§’è‰²å­—æ®µ**ï¼š
- è§’è‰²IDã€è§’è‰²åç§°ã€è§’è‰²ç¼–ç 
- è§’è‰²æè¿°ã€çŠ¶æ€
- **æ•°æ®æƒé™ (Data Scope)**ï¼š
  - å…¨éƒ¨æ•°æ® (All)ï¼šå¯æŸ¥çœ‹æ‰€æœ‰æ•°æ®
  - æœ¬éƒ¨é—¨æ•°æ® (Department)ï¼šå¯æŸ¥çœ‹æœ¬éƒ¨é—¨åŠä¸‹çº§éƒ¨é—¨æˆå‘˜åˆ›å»ºçš„æ•°æ®
  - ä»…æœ¬äººæ•°æ® (Self)ï¼šä»…å¯æŸ¥çœ‹è‡ªå·±åˆ›å»ºåŠç›¸å…³çš„æ•°æ®
- å…³è”æƒé™èœå•

#### 4.9.4 éƒ¨é—¨ç®¡ç† (DepartmentManagement)

> **é‡è¦å˜æ›´ (v2.3)**ï¼šéƒ¨é—¨ç®¡ç†åŠŸèƒ½å·²å®Œå…¨é›†æˆåˆ°ç”¨æˆ·ç®¡ç†é¡µé¢ï¼Œä¸å†æä¾›ç‹¬ç«‹èœå•å…¥å£ã€‚

**è®¿é—®æ–¹å¼**ï¼š
- ç”¨æˆ·ç®¡ç†é¡µé¢ (`/system/user`) å·¦ä¾§ç»„ç»‡æ¶æ„æ ‘
- æ”¯æŒéƒ¨é—¨çš„æ–°å¢ã€ç¼–è¾‘ã€åˆ é™¤æ“ä½œ

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š
- æ ‘çŠ¶ç»“æ„å±•ç¤º
- æ”¯æŒå³é”®æˆ–æŒ‰é’®æ“ä½œï¼šæ·»åŠ å­éƒ¨é—¨ã€ç¼–è¾‘ã€åˆ é™¤
- éƒ¨é—¨äººå‘˜é€’å½’æŸ¥è¯¢ï¼šé€‰æ‹©çˆ¶éƒ¨é—¨å¯æŸ¥çœ‹æ‰€æœ‰å­éƒ¨é—¨äººå‘˜
- **ç”¨æˆ·ç­›é€‰å¢å¼º**ï¼šåœ¨éƒ¨é—¨ç®¡ç†ä¸­ï¼Œç³»ç»Ÿä¼šæ ¹æ®å½“å‰ç”¨æˆ·çš„"æ•°æ®æƒé™"è‡ªåŠ¨è¿‡æ»¤å¯è§çš„ç”¨æˆ·å’Œéƒ¨é—¨èŒƒå›´ã€‚

**éƒ¨é—¨å­—æ®µ**ï¼š
- éƒ¨é—¨IDã€éƒ¨é—¨åç§°ã€éƒ¨é—¨ç¼–ç 
- ä¸Šçº§éƒ¨é—¨ã€è´Ÿè´£äºº
- æ’åºã€çŠ¶æ€

**æŠ€æœ¯å¤‡æ³¨**ï¼š
- åŸ `/system/dept` ç‹¬ç«‹é¡µé¢å·²åºŸå¼ƒï¼Œä½†ä¿ç•™ä»£ç æ–‡ä»¶
- `/api/dept` ç›¸å…³ API æ¥å£ç»§ç»­æä¾›æœåŠ¡ï¼ˆç”¨æˆ·ç®¡ç†é¡µé¢çš„ç»„ç»‡æ¶æ„ä½¿ç”¨ï¼‰

#### 4.9.5 æƒé™é…ç½® (PermissionConfig)

**é¡µé¢è·¯å¾„**ï¼š`/system/permission`

**åŠŸèƒ½æè¿°**ï¼š
- å¯¹ç³»ç»Ÿèœå•å’ŒæŒ‰é’®çº§æƒé™è¿›è¡Œé›†ä¸­é…ç½®ã€‚
- æ”¯æŒæ ‘å½¢ç»“æ„å±•ç¤ºæƒé™å±‚çº§ã€‚
- æƒé™ç¼–ç å¯é€‰ï¼ˆä¸å¡«åˆ™è‡ªåŠ¨ç”Ÿæˆï¼‰ï¼Œæ”¯æŒæ‰¹é‡å¯ç”¨/ç¦ç”¨ã€‚

**ä¸šåŠ¡æ•°æ®è¿‡æ»¤æœºåˆ¶ (Data Filtering)**ï¼š
- ç³»ç»Ÿæ ¸å¿ƒä¸šåŠ¡æ¨¡å—ï¼ˆæŠ¥ä»·ã€åˆåŒã€å®¢æˆ·ã€å§”æ‰˜ï¼‰è‡ªåŠ¨åº”ç”¨æ•°æ®æƒé™è¿‡æ»¤ã€‚
- **å½’å±åŸåˆ™**ï¼šæ•°æ®åˆ›å»ºæ—¶è‡ªåŠ¨è®°å½• `createdById`ã€‚
- **æŸ¥è¯¢è§„åˆ™**ï¼šæ ¹æ®å½“å‰ç”¨æˆ·è§’è‰²çš„ `dataScope` è‡ªåŠ¨æ³¨å…¥æŸ¥è¯¢æ¡ä»¶ï¼ˆAll > Dept > Selfï¼‰ã€‚

#### 4.9.6 å®¡æ‰¹æµç¨‹ç®¡ç† (ApprovalFlow)

**é¡µé¢è·¯å¾„**ï¼š`/system/approval-flow`

**åŠŸèƒ½æè¿°**ï¼šç»Ÿä¸€å®¡æ‰¹æµç³»ç»Ÿï¼Œæ”¯æŒä¸ºä¸åŒä¸šåŠ¡ç±»å‹é…ç½®å®¡æ‰¹æµç¨‹ã€‚

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
1. **å®¡æ‰¹æµç¨‹é…ç½®** - ä¸ºæŠ¥ä»·å•ã€åˆåŒã€å®¢æˆ·å•ä½ç­‰ä¸šåŠ¡é…ç½®å®¡æ‰¹æµç¨‹
2. **å¯è§†åŒ–é…ç½®** - æ‹–æ‹½å¼é…ç½®å®¡æ‰¹èŠ‚ç‚¹ï¼Œæ”¯æŒè§’è‰²/ç”¨æˆ·/éƒ¨é—¨è´Ÿè´£äººå®¡æ‰¹
3. **çµæ´»å¯æ‰©å±•** - æ–°å¢ä¸šåŠ¡ç±»å‹æ— éœ€æ”¹ä»£ç ï¼Œä»…é…ç½®å³å¯

**å®¡æ‰¹æµç¨‹é…ç½®å­—æ®µ**ï¼š

| å­—æ®µå | å­—æ®µæ ‡è¯† | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|----------|------|------|------|
| æµç¨‹åç§° | name | string | æ˜¯ | å®¡æ‰¹æµç¨‹åç§° |
| æµç¨‹ç¼–ç  | code | string | å¦ | å”¯ä¸€æ ‡è¯†ï¼Œå¦‚ä¸å¡«è‡ªåŠ¨ç”Ÿæˆ |
| ä¸šåŠ¡ç±»å‹ | businessType | string | æ˜¯ | quotation/contract/client |
| æµç¨‹æè¿° | description | string | å¦ | æµç¨‹è¯´æ˜ |
| å®¡æ‰¹èŠ‚ç‚¹ | nodes | json | æ˜¯ | å®¡æ‰¹èŠ‚ç‚¹é…ç½® |
| çŠ¶æ€ | status | boolean | æ˜¯ | æ˜¯å¦å¯ç”¨ |

**å®¡æ‰¹èŠ‚ç‚¹é…ç½®æ ¼å¼**ï¼š
```json
[
  {
    "step": 1,
    "name": "é”€å”®ç»ç†å®¡æ‰¹",
    "type": "role",
    "targetId": "sales_manager",
    "targetName": "é”€å”®ç»ç†",
    "required": true
  },
  {
    "step": 2,
    "name": "è´¢åŠ¡å®¡æ‰¹",
    "type": "role",
    "targetId": "finance",
    "targetName": "è´¢åŠ¡",
    "required": true
  }
]
```

**æ”¯æŒçš„å®¡æ‰¹ç±»å‹**ï¼š
| ç±»å‹ | è¯´æ˜ | targetId ç¤ºä¾‹ |
|------|------|---------------|
| role | è§’è‰²å®¡æ‰¹ | sales_manager, finance, lab_director |
| user | æŒ‡å®šç”¨æˆ· | user_id_123 |
| department | éƒ¨é—¨è´Ÿè´£äºº | dept_id_456 |

**å·²é…ç½®çš„å®¡æ‰¹æµç¨‹**ï¼š

1. **æŠ¥ä»·å®¡æ‰¹æµç¨‹** (QUOTATION_APPROVAL)
   - ç¬¬1çº§ï¼šé”€å”®ç»ç†å®¡æ‰¹
   - ç¬¬2çº§ï¼šè´¢åŠ¡å®¡æ‰¹
   - ç¬¬3çº§ï¼šå®éªŒå®¤è´Ÿè´£äººå®¡æ‰¹

2. **åˆåŒå®¡æ‰¹æµç¨‹** (CONTRACT_APPROVAL)
   - ç¬¬1çº§ï¼šéƒ¨é—¨ç»ç†å®¡æ‰¹
   - ç¬¬2çº§ï¼šæ³•åŠ¡å®¡æ‰¹

3. **å®¢æˆ·å•ä½å®¡æ‰¹æµç¨‹** (CLIENT_APPROVAL)
   - ç¬¬1çº§ï¼šé”€å”®ç»ç†å®¡æ‰¹

**å®¡æ‰¹çŠ¶æ€æµè½¬**ï¼š
```
[è‰ç¨¿] â†’ [æäº¤å®¡æ‰¹] â†’ [pending - å®¡æ‰¹ä¸­]
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â†“                   â†“
               [é€šè¿‡]               [é©³å›]
                    â†“                   â†“
            [ä¸‹ä¸€çº§/å®Œæˆ]          [rejected]
                    â†“
            [approved - å·²æ‰¹å‡†]
```

**ç›¸å…³æ–‡ä»¶**ï¼š
- å®¡æ‰¹å¼•æ“ï¼š`src/lib/approval/engine.ts`
- å®¡æ‰¹ç±»å‹ï¼š`src/lib/approval/types.ts`
- ç»Ÿä¸€å®¡æ‰¹ APIï¼š`src/app/api/approval/route.ts`
- å®¡æ‰¹æ“ä½œ APIï¼š`src/app/api/approval/[id]/route.ts`
- å‰ç«¯ç»„ä»¶ï¼š`src/components/approval/`

---

### 4.10 ä¾›åº”å•†ç®¡ç†æ¨¡å—

#### 4.10.1 ä¾›åº”å•†ä¿¡æ¯ (SupplierInfo)

**é¡µé¢è·¯å¾„**ï¼š`/outsource/supplier`

#### 4.10.2 ä¾›åº”å•†åˆ†ç±» (SupplierCategory)

**é¡µé¢è·¯å¾„**ï¼š`/supplier/category`

#### 4.10.3 è¯„ä»·æ¨¡æ¿ (EvaluationTemplate)

**é¡µé¢è·¯å¾„**ï¼š`/supplier/template`

#### 4.10.4 ç»©æ•ˆè¯„ä»· (PerformanceEvaluation)

**é¡µé¢è·¯å¾„**ï¼š`/supplier/evaluation`

---

### 4.11 æ˜“è€—å“ç®¡ç†æ¨¡å—

#### 4.11.1 æ˜“è€—å“ä¿¡æ¯ (ConsumableInfo)

**é¡µé¢è·¯å¾„**ï¼š`/consumable/info`

#### 4.11.2 å‡ºå…¥åº“è®°å½• (StockTransactions)

**é¡µé¢è·¯å¾„**ï¼š`/consumable/transaction`

---

### 4.12 å§”å¤–ç®¡ç†æ¨¡å—

#### 4.12.1 å…¨éƒ¨å§”å¤– (AllOutsourcing)

**é¡µé¢è·¯å¾„**ï¼š`/outsource/order`

#### 4.12.2 æˆ‘çš„å§”å¤– (MyOutsourcing)

**é¡µé¢è·¯å¾„**ï¼š`/outsource/my`

---

## å››ã€æµ‹è¯•æ•°æ®ç¤ºä¾‹

### 4.1 å§”æ‰˜å’¨è¯¢æµ‹è¯•æ•°æ®

```json
{
  "id": "1",
  "consultationNo": "ZX20231201001",
  "createTime": "2023-12-01 10:00:00",
  "clientCompany": "å¥‡ç‘æ±½è½¦è‚¡ä»½æœ‰é™å…¬å¸",
  "clientContact": "æå·¥",
  "clientTel": "13800138000",
  "clientEmail": "ligong@chery.com",
  "clientAddress": "å®‰å¾½çœèŠœæ¹–å¸‚ç»æµæŠ€æœ¯å¼€å‘åŒºé•¿æ˜¥è·¯8å·",
  "sampleName": "è±å°¼ K01",
  "sampleModel": "K01-2023",
  "sampleMaterial": "åˆé‡‘é’¢",
  "estimatedQuantity": 5,
  "testItems": ["æ‹‰ä¼¸å¼ºåº¦æµ‹è¯•", "é‡‘ç›¸åˆ†æ", "ç¡¬åº¦æµ‹è¯•"],
  "testPurpose": "quality_inspection",
  "urgencyLevel": "urgent",
  "expectedDeadline": "2023-12-10",
  "clientRequirements": "éœ€è¦åŠ æ€¥å¤„ç†ï¼Œ3å¤©å†…å‡ºå…·æŠ¥å‘Š",
  "budgetRange": "3000-5000",
  "status": "quoted",
  "follower": "å¼ é¦¨",
  "feasibility": "feasible",
  "feasibilityNote": "å®éªŒå®¤å…·å¤‡ç›¸å…³æ£€æµ‹èƒ½åŠ›ï¼Œè®¾å¤‡é½å…¨",
  "estimatedPrice": 3500,
  "quotationNo": "BJ20231201001"
}
```

### 4.2 æŠ¥ä»·å•æµ‹è¯•æ•°æ®

```json
{
  "id": "1",
  "quotationNo": "BJ20231201001",
  "createTime": "2023-12-01 09:30:00",
  "clientCompany": "å¥‡ç‘æ±½è½¦è‚¡ä»½æœ‰é™å…¬å¸",
  "clientContact": "æå·¥",
  "clientTel": "13800138000",
  "clientEmail": "ligong@chery.com",
  "clientAddress": "å®‰å¾½çœèŠœæ¹–å¸‚ç»æµæŠ€æœ¯å¼€å‘åŒºé•¿æ˜¥è·¯8å·",
  "serviceCompany": "æ±Ÿè‹å›½è½»æ£€æµ‹æŠ€æœ¯æœ‰é™å…¬å¸",
  "serviceContact": "å¼ é¦¨",
  "serviceTel": "15952575002",
  "sampleName": "è±å°¼ K01",
  "items": [
    { "id": 1, "serviceItem": "æ‹‰ä¼¸å¼ºåº¦æµ‹è¯•", "methodStandard": "GB/T 228.1-2021", "quantity": 3, "unitPrice": 500, "totalPrice": 1500 },
    { "id": 2, "serviceItem": "é‡‘ç›¸åˆ†æ", "methodStandard": "GB/T 13298-2015", "quantity": 2, "unitPrice": 800, "totalPrice": 1600 }
  ],
  "subtotal": 3100,
  "taxTotal": 3286,
  "discountTotal": 3000,
  "status": "approved",
  "clientStatus": "ok",
  "approvalHistory": [
    { "level": 1, "role": "sales_manager", "approver": "ç‹ç»ç†", "action": "approve", "comment": "åŒæ„æŠ¥ä»·", "timestamp": "2023-12-01 10:30:00" },
    { "level": 2, "role": "finance", "approver": "å¼ ä¼šè®¡", "action": "approve", "comment": "ä»·æ ¼åˆç†", "timestamp": "2023-12-01 14:20:00" },
    { "level": 3, "role": "lab_director", "approver": "æä¸»ä»»", "action": "approve", "comment": "åŒæ„", "timestamp": "2023-12-01 16:00:00" }
  ]
}
```

### 4.3 å§”æ‰˜å•æµ‹è¯•æ•°æ®

```json
{
  "id": 1,
  "entrustmentId": "WT20231101001",
  "contractNo": "HT20231101",
  "sourceType": "contract",
  "clientName": "å¥‡ç‘æ±½è½¦è‚¡ä»½æœ‰é™å…¬å¸",
  "contactPerson": "å¼ ç»ç†",
  "sampleDate": "2023-11-01",
  "follower": "æå››",
  "sampleName": "C30æ··å‡åœŸè¯•å—",
  "sampleModel": "150*150*150mm",
  "sampleMaterial": "C30",
  "sampleQuantity": 3,
  "isSampleReturn": false,
  "testItems": "æŠ—å‹å¼ºåº¦",
  "projects": [
    {
      "id": "P001",
      "name": "æ··å‡åœŸæŠ—å‹å¼ºåº¦æ£€æµ‹",
      "testItems": ["æŠ—å‹å¼ºåº¦"],
      "method": "GB/T 50081-2019",
      "standard": "GB/T 50081-2019",
      "status": "completed",
      "assignTo": "å¼ ä¸‰"
    }
  ]
}
```

### 4.4 å®¢æˆ·å•ä½æµ‹è¯•æ•°æ®

```json
{
  "id": 1,
  "name": "å¥‡ç‘æ±½è½¦è‚¡ä»½æœ‰é™å…¬å¸",
  "contactPerson": "ç‹ç»ç†",
  "contactPhone": "13800138001",
  "address": "å®‰å¾½çœèŠœæ¹–å¸‚ç»æµæŠ€æœ¯å¼€å‘åŒºé•¿æ˜¥è·¯8å·",
  "taxId": "91340200713920435C",
  "invoiceAddress": "å®‰å¾½çœèŠœæ¹–å¸‚ç»æµæŠ€æœ¯å¼€å‘åŒºé•¿æ˜¥è·¯8å·",
  "invoicePhone": "0553-5961111",
  "bankName": "ä¸­å›½å·¥å•†é“¶è¡ŒèŠœæ¹–åˆ†è¡Œ",
  "bankAccount": "1307023009022100123",
  "status": "approved"
}
```

### 4.5 æ ·å“æµ‹è¯•æ•°æ®

```json
{
  "id": 1,
  "sampleNo": "S20231101001",
  "receiptId": 1,
  "entrustmentId": "WT20231101001",
  "name": "C30æ··å‡åœŸè¯•å—",
  "spec": "150*150*150mm",
  "quantity": 3,
  "totalQuantity": 3,
  "unit": "ä¸ª",
  "remainingQuantity": 3,
  "receiptDate": "2023-11-01",
  "receiptPerson": "å¼ ä¸‰",
  "status": "å·²æ”¶æ ·"
}
```

### 4.6 è®¾å¤‡æµ‹è¯•æ•°æ®

```json
{
  "id": "1",
  "code": "ALTCCS-2022001",
  "name": "ç«èŠ±æºåŸå­å‘å°„å…‰è°±ä»ª",
  "model": "SPECTRO MAXx",
  "manufacturer": "SPECTRO",
  "serialNumber": "SN2022001",
  "assetType": "instrument",
  "status": "Running",
  "location": "å…‰è°±å®¤",
  "department": "æ£€æµ‹éƒ¨",
  "purchaseDate": "2022-01-15",
  "commissioningDate": "2022-02-01",
  "nextCalibrationDate": "2024-02-01",
  "responsiblePerson": "å¼ ä¸‰",
  "utilization": 30,
  "operatingHours": 1200
}
```

### 4.7 è´¢åŠ¡æ•°æ®æµ‹è¯•

```json
{
  "id": 1,
  "receivableNo": "AR-20231125-001",
  "entrustmentId": "WT20231101001",
  "clientName": "æŸæ±½è½¦é›¶éƒ¨ä»¶å…¬å¸",
  "samples": [
    {
      "sampleNo": "S20231101001",
      "sampleName": "é’¢ç­‹æ··å‡åœŸè¯•ä»¶",
      "testItems": ["æŠ—å‹å¼ºåº¦", "å¤–è§‚è´¨é‡"],
      "unitPrice": 500,
      "quantity": 3,
      "subtotal": 1500
    }
  ],
  "totalAmount": 1500,
  "receivedAmount": 1500,
  "remainingAmount": 0,
  "status": "å·²æ”¶æ¬¾",
  "reportNos": ["RPT-20231125-001"],
  "dueDate": "2023-11-30"
}
```

---

## äº”ã€ç³»ç»Ÿé…ç½®

### 5.1 é»˜è®¤è´¦å·

| ç”¨æˆ·å | å¯†ç  | è§’è‰² |
|--------|------|------|
| admin | admin123 | ç®¡ç†å‘˜ |

### 5.2 æœåŠ¡æ–¹é»˜è®¤ä¿¡æ¯

```javascript
{
  serviceCompany: "æ±Ÿè‹å›½è½»æ£€æµ‹æŠ€æœ¯æœ‰é™å…¬å¸",
  serviceContact: "å¼ é¦¨",
  serviceTel: "15952575002",
  serviceEmail: "zhangxin@sae-china.org",
  serviceAddress: "æ‰¬å·å¸‚é‚—æ±ŸåŒºé‡‘å±±è·¯99å·"
}
```

### 5.3 ç¼–å·è§„åˆ™

| å•æ®ç±»å‹ | æ ¼å¼ | ç¤ºä¾‹ |
|----------|------|------|
| å’¨è¯¢å• | ZX + å¹´æœˆæ—¥ + åºå· | ZX20231201001 |
| æŠ¥ä»·å• | BJ + å¹´æœˆæ—¥ + åºå· | BJ20231201001 |
| åˆåŒ | HT + å¹´æœˆæ—¥ + åºå· | HT20231201001 |
| å§”æ‰˜å• | WT + å¹´æœˆæ—¥ + åºå· | WT20231101001 |
| æ ·å“ | S + å¹´æœˆæ—¥ + åºå· | S20231101001 |
| ä»»åŠ¡ | T + å¹´æœˆæ—¥ + åºå· | T20231101001 |
| æŠ¥å‘Š | RPT-YYYYMMDD-XXX | RPT-20231125-001 |
| åº”æ”¶ | AR-YYYYMMDD-XXX | AR-20231125-001 |
| å‘ç¥¨ | INV-YYYYMMDD-XXX | INV-20231115-001 |

---

## å…­ã€é™„å½•

### 6.1 çŠ¶æ€æšä¸¾å¯¹ç…§è¡¨

#### å’¨è¯¢çŠ¶æ€
| å€¼ | æ˜¾ç¤ºæ–‡æœ¬ | é¢œè‰² |
|-----|----------|------|
| following | è·Ÿè¿›ä¸­ | processing |
| quoted | å·²æŠ¥ä»· | success |
| rejected | å·²æ‹’ç» | error |
| closed | å·²å…³é—­ | default |

#### æŠ¥ä»·å•çŠ¶æ€
| å€¼ | æ˜¾ç¤ºæ–‡æœ¬ | é¢œè‰² |
|-----|----------|------|
| draft | è‰ç¨¿ | default |
| pending_sales | å¾…é”€å”®å®¡æ‰¹ | processing |
| pending_finance | å¾…è´¢åŠ¡å®¡æ‰¹ | processing |
| pending_lab | å¾…å®éªŒå®¤å®¡æ‰¹ | processing |
| approved | å·²æ‰¹å‡† | success |
| rejected | å·²æ‹’ç» | error |
| archived | å·²å½’æ¡£ | cyan |

#### åˆåŒçŠ¶æ€
| å€¼ | æ˜¾ç¤ºæ–‡æœ¬ | é¢œè‰² |
|-----|----------|------|
| draft | è‰ç¨¿ | default |
| signed | å·²ç­¾è®¢ | success |
| executing | æ‰§è¡Œä¸­ | processing |
| completed | å·²å®Œæˆ | success |
| terminated | å·²ç»ˆæ­¢ | error |

#### è®¾å¤‡çŠ¶æ€
| å€¼ | æ˜¾ç¤ºæ–‡æœ¬ |
|-----|----------|
| Running | è¿è¡Œä¸­ |
| Maintenance | ç»´æŠ¤ä¸­ |
| Idle | ç©ºé—² |
| Scrapped | å·²æŠ¥åºŸ |

### 6.2 æ–‡ä»¶ç›®å½•ç»“æ„

```
client/src/
â”œâ”€â”€ pages/                    # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Entrustment/          # å§”æ‰˜ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ EntrustmentConsultation.tsx  # å§”æ‰˜å’¨è¯¢
â”‚   â”‚   â”œâ”€â”€ QuotationManagement.tsx      # æŠ¥ä»·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ContractManagement.tsx       # åˆåŒç®¡ç†
â”‚   â”‚   â”œâ”€â”€ index.tsx                    # å§”æ‰˜å•ç®¡ç†
â”‚   â”‚   â””â”€â”€ ClientUnit.tsx               # å®¢æˆ·å•ä½
â”‚   â”œâ”€â”€ SampleManagement/     # æ ·å“ç®¡ç†
â”‚   â”œâ”€â”€ TaskManagement/       # ä»»åŠ¡ç®¡ç†
â”‚   â”œâ”€â”€ TestManagement/       # æ£€æµ‹ç®¡ç†
â”‚   â”œâ”€â”€ ReportManagement/     # æŠ¥å‘Šç®¡ç†
â”‚   â”œâ”€â”€ FinanceManagement/    # è´¢åŠ¡ç®¡ç†
â”‚   â”œâ”€â”€ DeviceManagement/     # è®¾å¤‡ç®¡ç†
â”‚   â”œâ”€â”€ StatisticsReport/     # ç»Ÿè®¡æŠ¥è¡¨
â”‚   â””â”€â”€ SystemSettings/       # ç³»ç»Ÿè®¾ç½®
â”œâ”€â”€ mock/                     # Mockæ•°æ®
â”œâ”€â”€ services/                 # APIæœåŠ¡
â”œâ”€â”€ components/               # å…¬å…±ç»„ä»¶
â”œâ”€â”€ hooks/                    # è‡ªå®šä¹‰Hook
â”œâ”€â”€ utils/                    # å·¥å…·å‡½æ•°
â””â”€â”€ config/                   # é…ç½®æ–‡ä»¶
```

---

## ä¸ƒã€å˜æ›´å†å²

### v2.5 - 2026-02-01

**å’¨è¯¢è¯„ä¼°ç³»ç»Ÿä¼˜åŒ–ï¼ˆç»Ÿä¸€åˆ° v2 ç³»ç»Ÿï¼‰**ï¼š
- âœ… **ç§»é™¤ v1 è¯„ä¼°ç³»ç»Ÿ**ï¼š
  - åˆ é™¤å’¨è¯¢åˆ—è¡¨é¡µçš„"å‘èµ·è¯„ä¼°"æŒ‰é’®
  - åˆ é™¤ `ConsultationAssessmentModal` ç»„ä»¶
  - ç»Ÿä¸€ä½¿ç”¨æ ·å“æ£€æµ‹é¡¹çº§è¯„ä¼°ï¼ˆv2 ç³»ç»Ÿï¼‰
- âœ… **çŠ¶æ€è‡ªåŠ¨åˆ¤å®š**ï¼š
  - åˆ›å»ºå’¨è¯¢å•æ—¶ï¼Œå¦‚æœæ ·å“æ£€æµ‹é¡¹ä¸­åˆ†é…äº†è¯„ä¼°äºº â†’ `status = 'assessing'`
  - å¦‚æœæ ·å“æ£€æµ‹é¡¹ä¸­æœªåˆ†é…è¯„ä¼°äºº â†’ `status = 'following'`
  - è‡ªåŠ¨è®¾ç½® `assessmentTotalCount` å’Œ `assessmentPendingCount`
- âœ… **ä¿®å¤"æˆ‘çš„å¾…è¯„ä¼°"API**ï¼š
  - ä»æŸ¥è¯¢ `ConsultationAssessment` è¡¨æ”¹ä¸ºæŸ¥è¯¢ `SampleTestItem` è¡¨
  - æŒ‰ `currentAssessorId` å’Œ `assessmentStatus='assessing'` æŸ¥è¯¢
  - æŒ‰å’¨è¯¢å•åˆ†ç»„è¿”å›ï¼Œæ¯ç»„åŒ…å«å¾…è¯„ä¼°çš„æ ·å“æ£€æµ‹é¡¹åˆ—è¡¨
- âœ… **å·¥ä½œå°å¾…åŠå¡ç‰‡é€‚é…**ï¼š
  - `PendingAssessmentCard` ç»„ä»¶é€‚é… v2 API è¿”å›çš„æ•°æ®ç»“æ„
  - æ˜¾ç¤ºæ¯ä¸ªå’¨è¯¢å•ä¸‹çš„æ ·å“æ£€æµ‹é¡¹åˆ—è¡¨
- âœ… **TDD æµ‹è¯•è¦†ç›–**ï¼š
  - æ–°å¢ `create-consultation-v2.test.ts`ï¼ˆ5ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
  - æ–°å¢ `my-pending-v2.test.ts`ï¼ˆ4ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
  - æ›´æ–° `other-apis.test.ts` é€‚é… v2 API
  - æ‰€æœ‰å’¨è¯¢ç›¸å…³æµ‹è¯•å¥—ä»¶é€šè¿‡ï¼ˆ55/55ï¼‰
- ä¿®æ”¹æ–‡ä»¶ï¼š
  - `src/app/api/consultation/route.ts` - åˆ›å»ºæ—¶è‡ªåŠ¨åˆ¤å®šçŠ¶æ€
  - `src/app/api/consultation/assessment/my-pending/route.ts` - å®Œå…¨é‡å†™æŸ¥è¯¢é€»è¾‘
  - `src/app/(dashboard)/entrustment/consultation/page.tsx` - ç§»é™¤ v1 è¯„ä¼°å…¥å£
  - `src/components/PendingAssessmentCard.tsx` - é€‚é… v2 æ•°æ®ç»“æ„

**æŠ€æœ¯æ”¹è¿›**ï¼š
- å½»åº•è§£å†³è¯„ä¼°äººçœ‹ä¸åˆ°å¾…è¯„ä¼°ä»»åŠ¡çš„é—®é¢˜
- ç®€åŒ–ä¸šåŠ¡æµç¨‹ï¼Œç§»é™¤å†—ä½™çš„"å‘èµ·è¯„ä¼°"æ“ä½œ
- ç»Ÿä¸€è¯„ä¼°ç³»ç»Ÿï¼Œé™ä½ä»£ç ç»´æŠ¤æˆæœ¬

---

### v2.4 - 2026-01-21

**å§”æ‰˜ç®¡ç†æ“ä½œåˆ—ä¼˜åŒ–**ï¼š
- âœ… **æ“ä½œåˆ—æŒ‰é’®å¸ƒå±€ç»Ÿä¸€**ï¼š
  - ä¸šåŠ¡æŒ‰é’®ï¼ˆç”ŸæˆPDFã€ç”Ÿæˆå§”æ‰˜å•ç­‰ï¼‰ï¼šå¸¦æ–‡å­—+å›¾æ ‡ï¼Œå·¦ä¾§æ˜¾ç¤º
  - é€šç”¨æŒ‰é’®ï¼ˆæŸ¥çœ‹/ç¼–è¾‘/åˆ é™¤ï¼‰ï¼šä»…å›¾æ ‡ï¼Œå³ä¾§æ˜¾ç¤º
- âœ… **æ“ä½œåˆ—å®½åº¦è‡ªé€‚åº”**ï¼š
  - ç§»é™¤å›ºå®š `width` å±æ€§
  - æ·»åŠ  `whiteSpace: 'nowrap'` é˜²æ­¢æ¢è¡Œ
  - è§£å†³æŒ‰é’®æº¢å‡º"æ“ä½œ"æ ‡é¢˜çš„é—®é¢˜
- ä¿®æ”¹æ–‡ä»¶ï¼š
  - `entrustment/contract/page.tsx`
  - `entrustment/quotation/page.tsx`
  - `entrustment/consultation/page.tsx`
  - `entrustment/list/page.tsx`

---

### v2.3 - 2026-01-15

**èœå•ä¼˜åŒ–**ï¼š
- âœ… **ç§»é™¤ç‹¬ç«‹çš„éƒ¨é—¨ç®¡ç†èœå•**ï¼š
  - åŸå› ï¼šåŠŸèƒ½ä¸ç”¨æˆ·ç®¡ç†ä¸­çš„ç»„ç»‡æ¶æ„é‡å¤
  - ä¼˜åŒ–ï¼šéƒ¨é—¨ç®¡ç†åŠŸèƒ½å®Œå…¨é›†æˆåˆ° `/system/user` é¡µé¢çš„å·¦ä¾§ç»„ç»‡æ¶æ„æ ‘
  - å½±å“ï¼šå‡å°‘èœå•å†—ä½™ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
  - ä¿ç•™ï¼šåŸ `/system/dept` é¡µé¢ä»£ç å’Œ `/api/dept` æ¥å£ç»§ç»­æä¾›æœåŠ¡
- âœ… **æ›´æ–° PRD æ–‡æ¡£**ï¼šè¯´æ˜éƒ¨é—¨ç®¡ç†çš„è®¿é—®æ–¹å¼å’ŒåŠŸèƒ½é›†æˆæƒ…å†µ

**å®¡æ‰¹æµç¨‹å¢å¼º**ï¼š
- âœ… **å®¡æ‰¹èŠ‚ç‚¹æ”¯æŒä¸‹æ‹‰é€‰æ‹©**ï¼š
  - è§’è‰²ç±»å‹ï¼šä»è§’è‰²åˆ—è¡¨ä¸­é€‰æ‹©ï¼ˆæ˜¾ç¤ºè§’è‰²åç§°ï¼‰
  - æŒ‡å®šç”¨æˆ·ï¼šä»ç”¨æˆ·åˆ—è¡¨ä¸­é€‰æ‹©ï¼ˆæ˜¾ç¤ºï¼šå§“å (è”ç³»æ–¹å¼)ï¼‰
  - éƒ¨é—¨è´Ÿè´£äººï¼šä»éƒ¨é—¨åˆ—è¡¨ä¸­é€‰æ‹©ï¼ˆæ˜¾ç¤ºï¼šéƒ¨é—¨åç§°ï¼‰
  - è‡ªåŠ¨å¡«å……æ˜¾ç¤ºåç§°ï¼Œå¯æ‰‹åŠ¨ä¿®æ”¹
  - åˆ‡æ¢ç±»å‹æ—¶æ™ºèƒ½æ¸…ç©ºå·²é€‰æ‹©çš„å†…å®¹

**è§’è‰²ç®¡ç†ä¼˜åŒ–**ï¼š
- âœ… **åˆ›å»º"æ™®é€šç”¨æˆ·"è§’è‰²**ï¼šæ›¿ä»£åŸæœ‰ä¸šåŠ¡è§’è‰²ï¼ˆé”€å”®ç»ç†ã€é”€å”®äººå‘˜ã€å®éªŒå®¤è´Ÿè´£äººã€æ£€æµ‹äººå‘˜ã€è´¢åŠ¡äººå‘˜ã€æ ·å“ç®¡ç†å‘˜ï¼‰
- âœ… **è¿ç§»ç”¨æˆ·æ•°æ®**ï¼š7 ä¸ªç”¨æˆ·ä»ä¸šåŠ¡è§’è‰²è¿ç§»åˆ°"æ™®é€šç”¨æˆ·"è§’è‰²
- âœ… **ä¸šåŠ¡è§’è‰²å¯åˆ é™¤**ï¼šæ‰€æœ‰ä¸šåŠ¡è§’è‰²ï¼ˆfinance, lab_director, sales_manager, sample_admin, testerï¼‰ç”¨æˆ·æ•°ä¸º 0ï¼Œå¯å®‰å…¨åˆ é™¤
- è¿ç§»ç”¨æˆ·åˆ—è¡¨ï¼šè´¢åŠ¡è´Ÿè´£äººã€å®éªŒå®¤ä¸»ä»»ã€é”€å”®è´Ÿè´£äººã€å¼ é¦¨ã€å§œè‰ºçºã€ç‹ç’ã€æ£€æµ‹å‘˜

---

### v2.2 - 2026-01-14

**Bug ä¿®å¤**ï¼š
- âœ… **Fortune-sheet æ•°æ®åŠ è½½ä¿®å¤**ï¼š
  - é—®é¢˜ï¼šä¿å­˜åå†æ¬¡åŠ è½½æ•°æ®ä¸æ˜¾ç¤º
  - åŸå› ï¼šFortune-sheet åˆå§‹åŒ–éœ€è¦ `celldata` æ ¼å¼ï¼Œä½†ä¿å­˜åæ•°æ®å˜æˆ `data` æ ¼å¼
  - æ–¹æ¡ˆï¼šæ·»åŠ  `convertDataToCelldata()` è½¬æ¢å‡½æ•°ï¼ŒåŠ è½½æ—¶è‡ªåŠ¨è½¬æ¢æ ¼å¼
  - ä¿®æ”¹æ–‡ä»¶ï¼š`src/components/DataSheet.tsx`ã€`src/app/(dashboard)/task/data/[id]/page.tsx`
- âœ… **å¤–éƒ¨é“¾æ¥å¼¹çª—ä¿®å¤**ï¼š
  - é—®é¢˜ï¼šç‚¹å‡»"ç”Ÿæˆå¤–éƒ¨é“¾æ¥"æŒ‰é’®åæ²¡æœ‰å¼¹çª—æ˜¾ç¤º
  - åŸå› ï¼šå‰ªè´´æ¿ API æˆåŠŸæ—¶åªæ˜¾ç¤ºå°æç¤ºï¼Œç”¨æˆ·å®¹æ˜“å¿½ç•¥
  - æ–¹æ¡ˆï¼šæ”¹ä¸ºå§‹ç»ˆæ˜¾ç¤º Modal.success å¼¹çª—ï¼Œç‚¹å‡»é“¾æ¥æ–‡æœ¬æ¡†å¯å…¨é€‰
  - ä¿®æ”¹æ–‡ä»¶ï¼š`src/app/(dashboard)/entrustment/list/page.tsx`
- âœ… **åˆåŒç”Ÿæˆ clientId ç¼ºå¤±ä¿®å¤**ï¼š
  - é—®é¢˜ï¼šé€šè¿‡æŠ¥ä»·å•ç”ŸæˆåˆåŒæ—¶æŠ¥ 400 é”™è¯¯
  - åŸå› ï¼šç¼ºå°‘ clientId å­—æ®µ
  - æ–¹æ¡ˆï¼šåœ¨åˆåŒåˆ›å»ºæ—¶è‡ªåŠ¨æŸ¥æ‰¾æˆ–åˆ›å»ºå®¢æˆ·å•ä½
  - ä¿®æ”¹æ–‡ä»¶ï¼š`src/app/api/contract/route.ts`

---

### v2.1 - 2026-01-13

**Bug ä¿®å¤**ï¼š
- âœ… **ä»»åŠ¡çŠ¶æ€æµè½¬ä¿®å¤**ï¼š
  - æ¢å¤ `pending_review`ï¼ˆå¾…å®¡æ ¸ï¼‰çŠ¶æ€
  - ç»Ÿä¸€çŠ¶æ€å®šä¹‰ä¸ºè‹±æ–‡ï¼špending/in_progress/pending_review/completed/transferred
  - ä¿®å¤ `statusFlow.ts` ä¸­çŠ¶æ€å®šä¹‰ä¸­è‹±æ–‡ä¸ä¸€è‡´çš„é—®é¢˜
- âœ… **æˆ‘çš„ä»»åŠ¡é¡µé¢ä¿®å¤**ï¼š
  - `pending` çŠ¶æ€æ·»åŠ "å¼€å§‹"æŒ‰é’®
  - `pending_review` çŠ¶æ€æ·»åŠ "æŸ¥çœ‹æ•°æ®"æŒ‰é’®
  - ä¿®å¤å…¨éƒ¨ä»»åŠ¡ç»Ÿè®¡æ˜¾ç¤º NaN çš„é—®é¢˜
  - æ·»åŠ "å¾…å®¡æ ¸"çŠ¶æ€åˆ°ç­›é€‰å™¨
- âœ… **å®¡æ ¸åŠŸèƒ½ä¿®å¤**ï¼š
  - æäº¤æ•°æ®åè¿›å…¥ `pending_review` çŠ¶æ€ï¼ˆè€Œéç›´æ¥ completedï¼‰
  - å®¡æ ¸é€šè¿‡åæ‰å˜ä¸º `completed`
- âœ… **ç”¨æˆ·åˆ†é…ä¼˜åŒ–**ï¼š
  - ä¼˜å…ˆä½¿ç”¨ `assignToId` æŸ¥æ‰¾ç”¨æˆ·ï¼Œå…¼å®¹åç§°æŸ¥æ‰¾
  - é¿å…é‡åç”¨æˆ·å¯¼è‡´çš„åˆ†é…é”™è¯¯
- âœ… **æ•°æ®å®Œæ•´æ€§ä¿æŠ¤**ï¼š
  - æ ·å“æ›´æ–°æ”¹ä¸ºæ™ºèƒ½æ¨¡å¼ï¼šæ›´æ–°ç°æœ‰ã€åˆ›å»ºæ–°å¢ã€åˆ é™¤å‰æ£€æŸ¥å…³è”ä»»åŠ¡
  - å§”æ‰˜å•åˆ é™¤å‰æ£€æŸ¥å…³è”çš„ä»»åŠ¡å’Œæ ·å“
  - ä»»åŠ¡ç¼–å·ç»Ÿä¸€ä½¿ç”¨ `generateNo()` å‡½æ•°ï¼Œé¿å…é«˜å¹¶å‘é‡å¤
- âœ… **API æƒé™æ§åˆ¶**ï¼š
  - `task/all` API æ·»åŠ  `withAuth` æƒé™éªŒè¯

**ä»£ç æ–‡ä»¶å˜æ›´**ï¼š
- `src/lib/statusFlow.ts` - ç»Ÿä¸€ä»»åŠ¡çŠ¶æ€å®šä¹‰
- `src/app/api/task/[id]/data/route.ts` - ä¿®å¤å®¡æ ¸æµç¨‹
- `src/app/api/entrustment/[id]/projects/[projectId]/route.ts` - ä¼˜åŒ–ç”¨æˆ·åˆ†é…
- `src/app/api/entrustment/[id]/route.ts` - ä¿æŠ¤æ•°æ®å®Œæ•´æ€§
- `src/app/api/entrustment/route.ts` - ç§»é™¤é‡å¤ä»£ç 
- `src/app/api/task/all/route.ts` - æ·»åŠ æƒé™æ§åˆ¶
- `src/app/(dashboard)/task/my/page.tsx` - ä¿®å¤æ“ä½œæŒ‰é’®

---

### v2.0 - 2026-01-12

**å¯è§†åŒ–æ¨¡ç‰ˆç¼–è¾‘å™¨**ï¼š
- âœ… **æ–°å¢ç»„ä»¶**ï¼š
  - `src/components/TemplateEditor.tsx` - å¯è§†åŒ–æ¨¡ç‰ˆç¼–è¾‘å™¨ä¸»ç»„ä»¶
  - `src/components/ColumnPropertyForm.tsx` - åˆ—å±æ€§é…ç½®è¡¨å•
  - `src/lib/template-converter.ts` - Schema è½¬æ¢å·¥å…·
- âœ… **ç¼–è¾‘å™¨åŠŸèƒ½**ï¼š
  - å·¦å³åˆ†æ å¸ƒå±€ï¼ˆè¡¨æ ¼ç¼–è¾‘åŒº 70% + å±æ€§é…ç½®é¢æ¿ 30%ï¼‰
  - å³é”®èœå•æ”¯æŒï¼šæ’å…¥/åˆ é™¤è¡Œåˆ—ã€è®¾ç½®åˆ—å±æ€§ã€é…ç½®ç»Ÿè®¡åˆ—
  - ç»Ÿè®¡é…ç½®ï¼šå¹³å‡å€¼ã€æ ‡å‡†å·®ã€ç¦»æ•£ç³»æ•° (CV%)
  - å®æ—¶ JSON é¢„è§ˆ
- âœ… **æ¨¡ç‰ˆè‡ªåŠ¨å…³è”**ï¼š
  - æ–°å¢ `/api/test-template/by-method` API - æ ¹æ®æ£€æµ‹æ–¹æ³•åŒ¹é…æ¨¡ç‰ˆ
  - æ•°æ®å½•å…¥é¡µé¢è‡ªåŠ¨æ ¹æ®æ£€æµ‹æ–¹æ³•åŠ è½½å¯¹åº”æ¨¡ç‰ˆ
  - æ”¯æŒæ¨¡ç‰ˆä¸æ£€æµ‹æ ‡å‡†çš„æ™ºèƒ½åŒ¹é…
- âœ… **é¢„ç½®æ£€æµ‹é¡¹ç›®**ï¼š
  - æ‹‰ä¼¸æ€§èƒ½è¯•éªŒ (GB/T 3354-2014)
  - é‡‘å±ææ–™æ‹‰ä¼¸è¯•éªŒ (GB/T 228.1-2021)
  - å¸ƒæ°ç¡¬åº¦è¯•éªŒ (GB/T 231.1-2018)

---

### v1.5 - 2026-01-10

**Bug ä¿®å¤**ï¼š
- âœ… ä¿®å¤æŠ¥ä»·å•æ£€æµ‹é¡¹ç›®é€‰æ‹©ååç§°ä¸æ˜¾ç¤ºçš„é—®é¢˜
  - åŸå› ï¼š`itemColumns` å®šä¹‰åœ¨ç»„ä»¶å¤–éƒ¨ï¼Œå¯¼è‡´ `testTemplateOptions` çŠ¶æ€ä¸åŒæ­¥
  - æ–¹æ¡ˆï¼šå°† `itemColumns` ç§»å…¥ç»„ä»¶å†…éƒ¨ï¼Œç›´æ¥ä½¿ç”¨ `testTemplates` çŠ¶æ€
- âœ… ä¿®å¤åˆåŒå®¢æˆ·åç§°ä¸ºè¾“å…¥æ¡†çš„é—®é¢˜
  - æ”¹ä¸ºä¸‹æ‹‰é€‰æ‹©æ¡†ï¼Œä»å§”æ‰˜å•ä½åˆ—è¡¨é€‰æ‹©
  - é€‰æ‹©åè‡ªåŠ¨å¡«å……è”ç³»äººã€ç”µè¯ã€åœ°å€
- âœ… ä¿®å¤å§”æ‰˜å•é¡¹ç›®æ— æ³•é‡æ–°åˆ†é…/é‡æ–°åˆ†åŒ…çš„é—®é¢˜
  - å·²åˆ†é…çš„é¡¹ç›®ç°åœ¨å¯ä»¥ç‚¹å‡»"é‡æ–°åˆ†é…"
  - å·²åˆ†åŒ…çš„é¡¹ç›®ç°åœ¨å¯ä»¥ç‚¹å‡»"é‡æ–°åˆ†åŒ…"
- âœ… ä¿®å¤å·¥ä½œå° API 404 é”™è¯¯
  - æ–°å¢ `/api/statistics/dashboard` - å·¥ä½œå°ç»Ÿè®¡æ•°æ®
  - æ–°å¢ `/api/todo` - å¾…åŠäº‹é¡¹åˆ—è¡¨
  - æ–°å¢ `/api/recent-activities` - æœ€è¿‘æ´»åŠ¨åˆ—è¡¨
- âœ… ä¿®å¤å§”æ‰˜å•"å¤–éƒ¨é“¾æ¥"æŒ‰é’®ç‚¹å‡»æ— ååº”
  - API ä½¿ç”¨æ­£ç¡®çš„æœåŠ¡å™¨åœ°å€ (8.130.182.148:3001)
  - æ·»åŠ å‰ªè´´æ¿é™çº§æ–¹æ¡ˆï¼Œåœ¨ HTTP ç¯å¢ƒä¸‹æ˜¾ç¤ºå¼¹çª—è®©ç”¨æˆ·æ‰‹åŠ¨å¤åˆ¶

**æ–°åŠŸèƒ½**ï¼š
- âœ… å§”æ‰˜å•çŠ¶æ€è‡ªåŠ¨æ›´æ–°
  - æ‰€æœ‰é¡¹ç›®å®Œæˆæ—¶ï¼Œå§”æ‰˜å•è‡ªåŠ¨å˜ä¸º"å·²å®Œæˆ"
  - é¡¹ç›®åˆ†é…æ—¶ï¼Œå§”æ‰˜å•è‡ªåŠ¨å˜ä¸º"æ£€æµ‹ä¸­"
- âœ… æ£€æµ‹æ•°æ®ä¿å­˜/æäº¤åˆ†ç¦»
  - ä¿å­˜ï¼šä»…ä¿å­˜æ•°æ®ï¼Œä¸å˜æ›´çŠ¶æ€
  - æäº¤ï¼šæ ¡éªŒç»“è®ºå¿…å¡« â†’ ä»»åŠ¡å®Œæˆ â†’ é¡¹ç›®å®Œæˆ â†’ å§”æ‰˜å•è‡ªåŠ¨å®Œæˆ

---

### v1.7 - 2026-01-11

**æ ·å“ç®¡ç†å¢å¼º**ï¼š
- âœ… **æ”¶æ ·ç™»è®°** (`/sample/receipt`)
  - æ–°å¢å§”æ‰˜å•é€‰æ‹©ï¼šè‡ªåŠ¨å¡«å……æ ·å“åç§°ã€è§„æ ¼ã€æ•°é‡
  - æ–°å¢æ ‡ç­¾ç”Ÿæˆï¼šæ”¯æŒç”Ÿæˆå¹¶ä¸‹è½½æ¡ç æ ‡ç­¾ (Code128)
- âœ… **æ ·å“æ˜ç»†** (`/sample/details`)
  - æ–°å¢å­—æ®µï¼šæ€»é‡ã€å¯ç”¨é‡ï¼ˆé¢œè‰²åŒºåˆ†çŠ¶æ€ï¼‰
  - æ–°å¢æ“ä½œï¼šå†…éƒ¨é¢†ç”¨ï¼ˆå…³è”å®éªŒå®¤ï¼‰ã€å¤–éƒ¨å§”å¤–ï¼ˆå…³è”ä¾›åº”å•†ï¼‰ã€æŸ¥çœ‹è®°å½•
- âœ… **æˆ‘çš„æ ·å“** (`/sample/my`)
  - æ–°å¢"æ–°å»ºé¢†ç”¨"åŠŸèƒ½
  - ä¿ç•™å¹¶ä¼˜åŒ–"å½’è¿˜"åŠŸèƒ½
- âœ… **èœå•è°ƒæ•´**ï¼šç§»é™¤ç‹¬ç«‹çš„"æ ·å“å€Ÿè¿˜"èœå•ï¼ŒåŠŸèƒ½åˆå¹¶

**ç³»ç»Ÿç®¡ç†ä¼˜åŒ–**ï¼š
- âœ… **ç»„ç»‡æ¶æ„**ï¼šç”¨æˆ·ç®¡ç†é¡µæ”¹ä¸º"å·¦æ ‘å³è¡¨"å¸ƒå±€ï¼Œé›†æˆéƒ¨é—¨ç®¡ç†
- âœ… **é…ç½®ä½“éªŒ**ï¼š
  - è§’è‰²/æƒé™/å®¡æ‰¹æµç¼–ç æ”¹ä¸ºå¯é€‰ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
  - æ”¯æŒåˆ—è¡¨é¡µå¿«é€Ÿå¯ç”¨/ç¦ç”¨çŠ¶æ€
- âœ… **UI ç»†èŠ‚**ï¼šä¿®å¤æ”¶æ ·çŠ¶æ€ "returned" æ˜¾ç¤ºä¸ºä¸­æ–‡ "å·²å½’è¿˜"

---

### v1.6 - 2026-01-11

**åŠŸèƒ½å¢å¼º**ï¼š
- âœ… **åˆ†åŒ…ç®¡ç†å‡çº§**
  - åˆ†åŒ…å¼¹çª—æ–°å¢"æ£€æµ‹äººå‘˜"é€‰æ‹©å­—æ®µ (`subcontractAssignee`)
  - åˆ†åŒ…åˆ†é…åè‡ªåŠ¨ä¸ºæŒ‡å®šäººå‘˜åˆ›å»ºæ£€æµ‹ä»»åŠ¡ (`TestTask`)
  - å¤–åŒ…ä»»åŠ¡è‡ªåŠ¨åŒæ­¥è‡³"ä»»åŠ¡ç®¡ç† -> æˆ‘çš„ä»»åŠ¡"åˆ—è¡¨
- âœ… **å®¡æ‰¹å¯è§†åŒ–**
  - æ–°å¢ `ApprovalTimeline` ç»„ä»¶ï¼Œç›´è§‚å±•ç¤ºå®¡æ‰¹èŠ‚ç‚¹è¿›åº¦
  - æŠ¥ä»·å•è¯¦æƒ…é¡µåº”ç”¨æ—¶é—´çº¿ç»„ä»¶ï¼Œæ˜¾ç¤ºé”€å”®â†’è´¢åŠ¡â†’å®éªŒå®¤çš„ä¸‰çº§å®¡æ‰¹çŠ¶æ€
- âœ… **äº¤äº’ä½“éªŒä¼˜åŒ–**
  - å§”æ‰˜å•æ–°å¢/ç¼–è¾‘é¡µé¢ç”± Drawer æ”¹ä¸º Modalï¼Œç»Ÿä¸€å¼¹çª—ä½“éªŒ
  - å§”æ‰˜å•æ£€æµ‹é¡¹ç›®è¡¨å•ç®€åŒ–ï¼šç§»é™¤å¤æ‚å‚æ•°ï¼Œæ”¹ä¸º"æ£€æµ‹é¡¹ç›®"é€‰æ‹© + "æ–¹æ³•/æ ‡å‡†"è‡ªåŠ¨å¡«å……
  - å·¥ä½œå°æ–°å¢"å¾…å®¡æ‰¹" (æ˜¾ç¤ºæäº¤æ—¶é—´) å’Œ "æˆ‘çš„ä»»åŠ¡" æ¨¡å—
  - ä¾§è¾¹æ ç§»é™¤"å®¡æ‰¹ä¸­å¿ƒ"å…¥å£ï¼ŒåŠŸèƒ½èåˆè‡³å·¥ä½œå°

**å·¥ç¨‹åŒ–ä¸éƒ¨ç½²**ï¼š
- âœ… æ–°å¢å¿«é€Ÿéƒ¨ç½²è„šæœ¬ `deploy-fast.sh` (æœ¬åœ°æ„å»º+ä¸Šä¼ æ¶æ„)
- âœ… æ•°æ®åº“æ–°å¢ `EntrustmentProject.subcontractAssignee` å­—æ®µ
- âœ… ä¿®å¤æ‰€æœ‰çŠ¶æ€æ ‡ç­¾çš„å›½é™…åŒ–æ˜¾ç¤º (English -> ä¸­æ–‡)

---

### v1.9 - 2026-01-12

**å®‰å…¨åŠ å›º**ï¼š
- âœ… **API èº«ä»½è®¤è¯**ï¼šæ‰€æœ‰ API æ·»åŠ  `withAuth`/`withRole`/`withAdmin` ä¸­é—´ä»¶
- âœ… **è¾“å…¥éªŒè¯**ï¼šä½¿ç”¨ Zod å®ç°ç±»å‹å®‰å…¨éªŒè¯ (`src/lib/validation.ts`)
- âœ… **çŠ¶æ€æµè½¬éªŒè¯**ï¼šçŠ¶æ€æœºé˜²æ­¢éæ³•è·³è½¬ (`src/lib/status-flow.ts`)
- âœ… **å¹¶å‘æ§åˆ¶**ï¼šä¹è§‚é”é˜²æ­¢æ›´æ–°å†²çª (`src/lib/optimistic-lock.ts`)
- âœ… **é€Ÿç‡é™åˆ¶**ï¼šå¤–éƒ¨æ¥å£é™æµä¿æŠ¤ (`src/lib/rate-limit.ts`)
- âœ… **ç»“æ„åŒ–æ—¥å¿—**ï¼šAPI/æ“ä½œ/å®‰å…¨äº‹ä»¶æ—¥å¿— (`src/lib/logger.ts`)
- âœ… **åˆ é™¤è°ƒè¯• API**ï¼šç§»é™¤ `/api/debug-data`ã€`/api/init-test-users`

**ä»£ç æ”¹è¿›**ï¼š
- âœ… å¯ç”¨å®¡æ‰¹æƒé™éªŒè¯
- âœ… æ·»åŠ åˆ é™¤çº§è”æ£€æŸ¥ï¼ˆå®¢æˆ·ã€ä¾›åº”å•†ã€è§’è‰²ã€éƒ¨é—¨ï¼‰
- âœ… ç»Ÿä¸€ API é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼

---

### v1.8 - 2026-01-12

**æŠ¥å‘Šç®¡ç†è¿­ä»£**ï¼š
- âœ… **é‡æ„æŠ¥å‘Šæ¨¡å—**ï¼šæ‹†åˆ†ä¸º"ä»»åŠ¡æŠ¥å‘Š"å’Œ"å®¢æˆ·æŠ¥å‘Š"åŒå±‚ç»“æ„
  - ä»»åŠ¡æŠ¥å‘Šï¼šé’ˆå¯¹å•ä¸€æ£€æµ‹ä»»åŠ¡ï¼Œè®°å½•åŸå§‹æ•°æ®
  - å®¢æˆ·æŠ¥å‘Šï¼šæ”¯æŒå¤šä»»åŠ¡åˆå¹¶ï¼Œç”Ÿæˆæœ€ç»ˆå¯¹å¤–æŠ¥å‘Š
- âœ… **æ–°å¢é¡µé¢**ï¼š
  - `/report/task-generate` & `/report/task-template`
  - `/report/client-generate` & `/report/client-template`
- âœ… **æŠ¥å‘Šé¢„è§ˆ**ï¼šæ”¯æŒå®æ—¶é¢„è§ˆæ£€æµ‹æ•°æ®è¡¨æ ¼
- âœ… **å¯¼å‡º**ï¼šå®ç° Excel æ ¼å¼æŠ¥å‘Šå¯¼å‡º

**ä»»åŠ¡æµç¨‹ç®€åŒ–**ï¼š
- âœ… **çŠ¶æ€ç®€åŒ–**ï¼šå»é™¤ pending_review çŠ¶æ€ï¼Œç®€åŒ–ä¸º in_progress -> completed
- âœ… **å­—æ®µç²¾ç®€**ï¼šç§»é™¤ä¸å¸¸ç”¨çš„ progress è¿›åº¦å­—æ®µ
- âœ… **äº¤äº’ä¼˜åŒ–**ï¼š
  - ç§»é™¤"å¼€å§‹"ã€"å®Œæˆ"æŒ‰é’®ï¼Œæäº¤å³å®Œæˆ
  - ç§»é™¤å†—ä½™çš„"å®¡æ ¸"æŒ‰é’®ï¼Œç®€åŒ–æ“ä½œè·¯å¾„

**å…¶ä»–ä¿®å¤**ï¼š
- âœ… ä¿®å¤å·¥ä½œå° KPI ç»Ÿè®¡ä¸­çš„çŠ¶æ€è¿‡æ»¤é—®é¢˜
- âœ… ä¿®å¤æ•°æ®ä¿å­˜å¼¹çª—æœªæ˜¾ç¤ºçš„é—®é¢˜
- âœ… ä¼˜åŒ– DataSheet æ•°æ®åŒæ­¥æœºåˆ¶

---

### v1.4 - 2026-01-08

**æ–‡æ¡£ä¼˜åŒ–**ï¼š
- ç§»é™¤å’¨è¯¢å• urgencyLevelï¼ˆç´§æ€¥ç¨‹åº¦ï¼‰å­—æ®µï¼Œå®é™…ä¸šåŠ¡ä¸éœ€è¦

---

### v1.3 - 2026-01-08

**æ–°å¢åŠŸèƒ½**ï¼š
- âœ… ç»Ÿä¸€å®¡æ‰¹æµç³»ç»Ÿä¸Šçº¿
  - æ–°å¢ ApprovalInstance å’Œ ApprovalRecord æ•°æ®æ¨¡å‹
  - å®ç°å®¡æ‰¹å¼•æ“ (approvalEngine)
  - åˆ›å»ºç»Ÿä¸€å®¡æ‰¹ API (/api/approval)
- âœ… å®¡æ‰¹ä¸­å¿ƒé¡µé¢
  - å¾…æˆ‘å®¡æ‰¹ï¼šé›†ä¸­å¤„ç†æ‰€æœ‰å¾…å®¡æ‰¹ä¸šåŠ¡
  - æˆ‘çš„æäº¤ï¼šæŸ¥çœ‹æˆ‘æäº¤çš„æ‰€æœ‰å®¡æ‰¹ç”³è¯·
  - æ”¯æŒå¿«é€Ÿå®¡æ‰¹ï¼ˆé€šè¿‡/é©³å›ï¼‰
- âœ… å®¡æ‰¹æµç¨‹é…ç½®ç®¡ç†
  - ç³»ç»Ÿè®¾ç½® > å®¡æ‰¹æµç¨‹èœå•
  - å¯è§†åŒ–é…ç½®å®¡æ‰¹èŠ‚ç‚¹å’Œå®¡æ‰¹äºº
  - æ”¯æŒè§’è‰²/ç”¨æˆ·/éƒ¨é—¨è´Ÿè´£äººä¸‰ç§å®¡æ‰¹ç±»å‹
- âœ… é¢„ç½®å®¡æ‰¹æµç¨‹
  - æŠ¥ä»·å®¡æ‰¹æµç¨‹ï¼ˆä¸‰çº§ï¼šé”€å”®ç»ç† â†’ è´¢åŠ¡ â†’ å®éªŒå®¤è´Ÿè´£äººï¼‰
  - åˆåŒå®¡æ‰¹æµç¨‹ï¼ˆä¸¤çº§ï¼šéƒ¨é—¨ç»ç† â†’ æ³•åŠ¡ï¼‰
  - å®¢æˆ·å•ä½å®¡æ‰¹æµç¨‹ï¼ˆå•çº§ï¼šé”€å”®ç»ç†ï¼‰

**Bug ä¿®å¤**ï¼š
- âœ… ä¿®å¤å’¨è¯¢ç®¡ç†é¡µé¢ testItems å­—æ®µç±»å‹ä¸åŒ¹é…é—®é¢˜
  - æ•°æ®åº“å­˜å‚¨ JSON å­—ç¬¦ä¸²ï¼Œå‰ç«¯æœŸæœ›æ•°ç»„
  - ç»Ÿä¸€åœ¨ API å±‚è¿›è¡Œåºåˆ—åŒ–/ååºåˆ—åŒ–å¤„ç†

**æŠ€æœ¯æ”¹è¿›**ï¼š
- ç»Ÿä¸€å®¡æ‰¹æµå¼•æ“è®¾è®¡ï¼Œæ”¯æŒæ‰©å±•æ–°ä¸šåŠ¡ç±»å‹
- å‰ç«¯å®¡æ‰¹ç»„ä»¶åŒ–ï¼ˆApprovalActionsã€ApprovalHistoryã€ApprovalStatusï¼‰
- å®¡æ‰¹æƒé™éªŒè¯æœºåˆ¶

---

### v1.2 - 2026-01-07

**åˆå§‹åŠŸèƒ½**ï¼š
- å§”æ‰˜ç®¡ç†æ¨¡å—ï¼ˆå’¨è¯¢ã€æŠ¥ä»·ã€åˆåŒã€å§”æ‰˜å•ã€å®¢æˆ·å•ä½ï¼‰
- æ ·å“ç®¡ç†æ¨¡å—
- ä»»åŠ¡ç®¡ç†æ¨¡å—
- æ£€æµ‹ç®¡ç†æ¨¡å—
- æŠ¥å‘Šç®¡ç†æ¨¡å—
- è´¢åŠ¡ç®¡ç†æ¨¡å—
- è®¾å¤‡ç®¡ç†æ¨¡å—
- ç»Ÿè®¡æŠ¥è¡¨æ¨¡å—
- ç³»ç»Ÿç®¡ç†æ¨¡å—

---

> **æ–‡æ¡£ç»´æŠ¤è¯´æ˜**ï¼šæœ¬æ–‡æ¡£éœ€éšç³»ç»ŸåŠŸèƒ½è¿­ä»£åŒæ­¥æ›´æ–°ï¼Œæ¯æ¬¡åŠŸèƒ½å˜æ›´åéœ€åœ¨"å˜æ›´å†å²"ä¸­è®°å½•ã€‚
